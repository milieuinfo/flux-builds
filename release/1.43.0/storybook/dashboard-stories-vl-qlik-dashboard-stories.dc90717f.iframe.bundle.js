"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[3861],{"../../libs/qlik/src/dashboard/stories/vl-qlik-dashboard.stories.ts":(e,i,n)=>{n.r(i),n.d(i,{QlikDashboardWithFilters:()=>g,QlikDashboardWithoutFilters:()=>f,__namedExportsOrder:()=>j,default:()=>v});var s=n("../../node_modules/lit-html/lit-html.js");n("../../libs/qlik/src/dashboard/vl-qlik-dashboard.component.ts");var t=n("../../libs/qlik/src/dashboard/stories/vl-qlik-dashboard.stories-arg.ts");n("../../node_modules/react/index.js");var o=n("../../node_modules/react/jsx-runtime.js"),r=n("../../node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js"),a=n("../../node_modules/@storybook/blocks/dist/index.mjs");function l(e){let i=Object.assign({h1:"h1",p:"p",code:"code",h2:"h2",pre:"pre",h3:"h3"},(0,r.RP)(),e.components),{VluxMetaData:n}=i;return n||function(e,i){throw Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("VluxMetaData",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.h1,{id:"visual",children:"Visual"}),"\n",(0,o.jsx)(n,{id:"qlik-qlik-dashboard"}),"\n",(0,o.jsxs)(i.p,{children:["Gebruik de ",(0,o.jsx)("code",{children:"vl-qlik-dashboard"})," component om een dashboard te maken met Qlik visuals en eventueel filters.\nHet views object is ofwel een 2D ",(0,o.jsx)(i.code,{children:"DashboardVisualization"})," array of een ",(0,o.jsx)(i.code,{children:"Views"})," object, dat op zijn beurt een 2D\n",(0,o.jsx)(i.code,{children:"DashboardVisualization"})," array bevat. De 2D ",(0,o.jsx)(i.code,{children:"DashboardVisualization"})," array is zo gestructureerd om de opdeling te\nmaken tussen rij en kolom."]}),"\n",(0,o.jsx)(i.h2,{id:"voorbeeld",children:"Voorbeeld"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-js",children:"import '@domg-wc/qlik/dashboard';\nimport { Qlik } from '@domg/qlik-lib';\nimport filters from './filters.js';\nimport viz_without_views from './visuals-without-views.json' assert {type: 'json'}\n\nconst connection = new Qlik(\"omgevingsloketrapport.omgeving.vlaanderen.be\", \"594c04b6-f319-4cb9-962c-24b0f7aa6f5e\");\nawait connection.init();\nthis.connection = connection;\n\n"})}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-html",children:'<vl-qlik-dashboard .connection="${connection}" .visuals="${viz_without_views}" .filters="${filters}"></vl-qlik-dashboard>\n'})}),"\n",(0,o.jsx)(a.Hl,{of:g}),"\n",(0,o.jsx)(i.h2,{id:"configuratie",children:"Configuratie"}),"\n",(0,o.jsx)(a.ov,{of:g}),"\n",(0,o.jsx)(i.h2,{id:"types",children:"Types"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-ts",children:'export type Filter = {\n    id: string,\n    filter: FilterObj\n}\n\ntype FilterObj = {\n    name: string,\n    fieldQualifier: string,\n    field: string,\n    nrOfValues: number\n}\n\nexport type DashboardVisualization = {\n    type: string,\n    id: string,\n    height: string,\n    width?: string,\n    label: string,\n    "align-label"?: string,\n    "align-visual"?: string,\n    colSize?: number,\n    properties?: object,\n    options?: object\n}\n\nexport type InfoblockVisualization = {\n    title: string,\n    icon: string,\n    type: string,\n    id: string,\n    height: string,\n    width?: string,\n    align: string,\n    colSize?: number,\n    properties?: object\n    visuals?: InfoblockVisualization[][]\n}\n\nexport type Views = {\n    [key: string]: {\n        order: number\n        label: string,\n        visualisations: DashboardVisualization[][]\n    },\n}\n'})}),"\n",(0,o.jsx)(i.h2,{id:"varianten",children:"Varianten"}),"\n",(0,o.jsx)(i.h3,{id:"without-filters",children:"Without filters"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-js",children:"import '@domg-wc/qlik/dashboard';\nimport { Qlik } from '@domg/qlik-lib';\nimport viz_without_views from './visuals-without-views.json' assert {type: 'json'}\n\nconst connection = new Qlik(\"omgevingsloketrapport.omgeving.vlaanderen.be\", \"594c04b6-f319-4cb9-962c-24b0f7aa6f5e\");\nawait connection.init();\nthis.connection = connection;\n\n"})}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-html",children:'<vl-qlik-dashboard .connection=${connection} .visuals="${viz_without_views}"></vl-qlik-dashboard>\n'})}),"\n",(0,o.jsx)(a.Hl,{of:f})]})}var d=n("../../libs/common/storybook/src/index.ts"),c=n("../../node_modules/@domg/qlik-lib/build/release/index.js"),h=n("../../node_modules/lit/directives/until.js"),u=n("../../libs/qlik/src/utils/stories/demo-filters.json"),m=n("../../libs/qlik/src/utils/stories/demo-visuals-without-views.json");let v={id:"qlik-qlik-dashboard",title:"qlik/qlik-dashboard",args:t.x,argTypes:t.f,tags:["autodocs"],parameters:{docs:{page:function(e={}){let{wrapper:i}=Object.assign({},(0,r.RP)(),e.components);return i?(0,o.jsx)(i,Object.assign({},e,{children:(0,o.jsx)(l,e)})):l(e)}}}};async function b(e){let i=new c.m_("omgevingsloketrapport.omgeving.vlaanderen.be","594c04b6-f319-4cb9-962c-24b0f7aa6f5e");return(await i.init(),e)?(0,s.qy)` <vl-qlik-dashboard
            .connection="${i}"
            .visuals="${m}"
        ></vl-qlik-dashboard>`:(0,s.qy)` <vl-qlik-dashboard
        .connection="${i}"
        .visuals="${m}"
        .filters="${u}"
    ></vl-qlik-dashboard>`}let p=e=>(0,d._7)(t.x,()=>(0,s.qy)`${(0,h.T)(b(e),(0,s.qy)` <vl-loader data-vl-text>Visualisatie aan het laden</vl-loader>`)}`),g=p(!1);g.storyName="vl-qlik-dashboard - with filters",g.args={};let f=p(!0);f.storyName="vl-qlik-dashboard - without filters",f.args={},g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:"template(false)",...g.parameters?.docs?.source}}},f.parameters={...f.parameters,docs:{...f.parameters?.docs,source:{originalSource:"template(true)",...f.parameters?.docs?.source}}};let j=["QlikDashboardWithFilters","QlikDashboardWithoutFilters"]},"../../node_modules/lit/directives/until.js":(e,i,n)=>{n.d(i,{T:()=>u});var s=n("../../node_modules/lit-html/lit-html.js"),t=n("../../node_modules/lit-html/directive-helpers.js"),o=n("../../node_modules/lit-html/async-directive.js");class r{constructor(e){this.G=e}disconnect(){this.G=void 0}reconnect(e){this.G=e}deref(){return this.G}}class a{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){var e;null!==(e=this.Y)&&void 0!==e||(this.Y=new Promise(e=>this.Z=e))}resume(){var e;null!==(e=this.Z)&&void 0!==e&&e.call(this),this.Y=this.Z=void 0}}var l=n("../../node_modules/lit-html/directive.js");function d(e,i,n,s,t,o,r){try{var a=e[o](r),l=a.value}catch(e){n(e);return}a.done?i(l):Promise.resolve(l).then(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var c=e=>!(0,t.sO)(e)&&"function"==typeof e.then;class h extends o.Kq{constructor(){super(...arguments),this._$C_t=1073741823,this._$Cwt=[],this._$Cq=new r(this),this._$CK=new a}render(){for(var e,i=arguments.length,n=Array(i),t=0;t<i;t++)n[t]=arguments[t];return null!==(e=n.find(e=>!c(e)))&&void 0!==e?e:s.c0}update(e,i){var n,t=this,o=this._$Cwt,r=o.length;this._$Cwt=i;var a=this._$Cq,l=this._$CK;this.isConnected||this.disconnected();for(var h=0;h<i.length&&!(h>this._$C_t);h++)if(n=function(){var e,n,s=i[h];if(!c(s))return{v:(t._$C_t=h,s)};h<r&&s===o[h]||(t._$C_t=1073741823,r=0,Promise.resolve(s).then((e=function*(e){for(;l.get();)yield l.get();var i=a.deref();if(void 0!==i){var n=i._$Cwt.indexOf(s);n>-1&&n<i._$C_t&&(i._$C_t=n,i.setValue(e))}},n=function(){var i=this,n=arguments;return new Promise(function(s,t){var o=e.apply(i,n);function r(e){d(o,s,t,r,a,"next",e)}function a(e){d(o,s,t,r,a,"throw",e)}r(void 0)})},function(e){return n.apply(this,arguments)})))}())return n.v;return s.c0}disconnected(){this._$Cq.disconnect(),this._$CK.pause()}reconnected(){this._$Cq.reconnect(this),this._$CK.resume()}}var u=(0,l.u$)(h)}}]);