"use strict";(self.webpackChunkuigov_web_components=self.webpackChunkuigov_web_components||[]).push([[8499],{"./node_modules/ol/interaction/Draw.js":(t,e,o)=>{o.d(e,{ZP:()=>G});var i=o("./node_modules/ol/geom/SimpleGeometry.js"),s=o("./node_modules/ol/extent.js"),n=o("./node_modules/ol/geom/flat/deflate.js"),r=o("./node_modules/ol/geom/flat/transform.js"),h=function(){var t=function(e,o){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw TypeError("Class extends value "+String(o)+" is not a constructor or null");function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),a=function(t){function e(e,o,i){var s=t.call(this)||this;return void 0!==i&&void 0===o?s.setFlatCoordinates(i,e):s.setCenterAndRadius(e,o||0,i),s}return h(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,o,i){var s=this.flatCoordinates,n=t-s[0],r=e-s[1],h=n*n+r*r;if(!(h<i))return i;if(0===h)for(var a=0;a<this.stride;++a)o[a]=s[a];else{var d=this.getRadius()/Math.sqrt(h);o[0]=s[0]+d*n,o[1]=s[1]+d*r;for(var a=2;a<this.stride;++a)o[a]=s[a]}return o.length=this.stride,h},e.prototype.containsXY=function(t,e){var o=this.flatCoordinates,i=t-o[0],s=e-o[1];return i*i+s*s<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,o=e[this.stride]-e[0];return(0,s.T9)(e[0]-o,e[1]-o,e[0]+o,e[1]+o,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return"Circle"},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if((0,s.kK)(t,e)){var o=this.getCenter();return t[0]<=o[0]&&t[2]>=o[0]||t[1]<=o[1]&&t[3]>=o[1]||(0,s.H6)(t,this.intersectsCoordinate.bind(this))}return!1},e.prototype.setCenter=function(t){var e=this.stride,o=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+o;for(var s=1;s<e;++s)i[e+s]=t[s];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,e,o){this.setLayout(o,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,s=(0,n.IG)(i,0,t,this.stride);i[s++]=i[0]+e;for(var r=1,h=this.stride;r<h;++r)i[s++]=i[r];i.length=s,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,e){var o=this.getCenter(),i=this.getStride();this.setCenter((0,r.U1)(o,0,o.length,i,t,e,o)),this.changed()},e.prototype.translate=function(t,e){var o=this.getCenter(),i=this.getStride();this.setCenter((0,r.Iu)(o,0,o.length,i,t,e,o)),this.changed()},e}(i.ZP);a.prototype.transform;var d=o("./node_modules/ol/events/Event.js"),l=o("./node_modules/ol/events/EventType.js"),_=o("./node_modules/ol/Feature.js"),u=o("./node_modules/ol/geom/GeometryLayout.js"),c=o("./node_modules/ol/interaction/Property.js"),p=o("./node_modules/ol/geom/LineString.js"),f=o("./node_modules/ol/MapBrowserEvent.js"),g=o("./node_modules/ol/MapBrowserEventType.js"),y=o("./node_modules/ol/geom/MultiLineString.js"),m=o("./node_modules/ol/geom/MultiPoint.js"),C=o("./node_modules/ol/geom/MultiPolygon.js"),v=o("./node_modules/ol/geom/Point.js"),k=o("./node_modules/ol/interaction/Pointer.js"),P=o("./node_modules/ol/geom/Polygon.js"),w=o("./node_modules/ol/layer/Vector.js"),T=o("./node_modules/ol/source/Vector.js"),L=o("./node_modules/ol/functions.js"),O=o("./node_modules/ol/events/condition.js"),D=o("./node_modules/ol/style/Style.js"),N=o("./node_modules/ol/proj.js"),E=o("./node_modules/ol/coordinate.js"),F=function(){var t=function(e,o){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw TypeError("Class extends value "+String(o)+" is not a constructor or null");function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),R={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},S={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},I=function(t){function e(e,o){var i=t.call(this,e)||this;return i.feature=o,i}return F(e,t),e}(d.ZP);let G=function(t){function e(e){var o=this;e.stopDown||(e.stopDown=L.Dv),(o=t.call(this,e)||this).on,o.once,o.un,o.shouldHandle_=!1,o.downPx_=null,o.downTimeout_,o.lastDragTime_,o.pointerType_,o.freehand_=!1,o.source_=e.source?e.source:null,o.features_=e.features?e.features:null,o.snapTolerance_=e.snapTolerance?e.snapTolerance:12,o.type_=e.type,o.mode_=function(t){switch(t){case"Point":case"MultiPoint":return R.POINT;case"LineString":case"MultiLineString":return R.LINE_STRING;case"Polygon":case"MultiPolygon":return R.POLYGON;case"Circle":return R.CIRCLE;default:throw Error("Invalid type: "+t)}}(o.type_),o.stopClick_=!!e.stopClick,o.minPoints_=e.minPoints?e.minPoints:o.mode_===R.POLYGON?3:2,o.maxPoints_=o.mode_===R.CIRCLE?2:e.maxPoints?e.maxPoints:1/0,o.finishCondition_=e.finishCondition?e.finishCondition:L.uX,o.geometryLayout_=e.geometryLayout?e.geometryLayout:u.Z.XY;var i=e.geometryFunction;if(!i){var s,n=o.mode_;n===R.CIRCLE?i=function(t,e,o){var i=e||new a([NaN,NaN]),s=(0,N.Vs)(t[0],o),n=(0,E.bI)(s,(0,N.Vs)(t[t.length-1],o));i.setCenterAndRadius(s,Math.sqrt(n),this.geometryLayout_);var r=(0,N.Cs)();return r&&i.transform(o,r),i}:(n===R.POINT?s=v.Z:n===R.LINE_STRING?s=p.Z:n===R.POLYGON&&(s=P.ZP),i=function(t,e,o){return e?n===R.POLYGON?t[0].length?e.setCoordinates([t[0].concat([t[0][0]])],this.geometryLayout_):e.setCoordinates([],this.geometryLayout_):e.setCoordinates(t,this.geometryLayout_):e=new s(t,this.geometryLayout_),e})}return o.geometryFunction_=i,o.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,o.finishCoordinate_=null,o.sketchFeature_=null,o.sketchPoint_=null,o.sketchCoords_=null,o.sketchLine_=null,o.sketchLineCoords_=null,o.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,o.overlay_=new w.Z({source:new T.Z({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:function(){var t=(0,D.Ly)();return function(e,o){return t[e.getGeometry().getType()]}}(),updateWhileInteracting:!0}),o.geometryName_=e.geometryName,o.condition_=e.condition?e.condition:O.rM,o.freehandCondition_,e.freehand?o.freehandCondition_=O.Bx:o.freehandCondition_=e.freehandCondition?e.freehandCondition:O.vY,o.addChangeListener(c.Z.ACTIVE,o.updateState_),o}return F(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===l.Z.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!==R.POINT&&this.freehandCondition_(e);var o=e.type===g.Z.POINTERMOVE,i=!0;return!this.freehand_&&this.lastDragTime_&&e.type===g.Z.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,o=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===g.Z.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),i=!1):this.freehand_&&e.type===g.Z.POINTERDOWN?i=!1:o&&2>this.getPointerCount()?(i=e.type===g.Z.POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):("mouse"===e.originalEvent.pointerType||e.type===g.Z.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===g.Z.DBLCLICK&&(i=!1),t.prototype.handleEvent.call(this,e)&&i},e.prototype.handleDownEvent=function(t){return(this.shouldHandle_=!this.freehand_,this.freehand_)?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout((function(){this.handlePointerMove_(new f.Z(g.Z.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}).bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var e=!0;if(0===this.getPointerCount()){if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){var o=!this.finishCoordinate_;o&&this.startDrawing_(t.coordinate),!o&&this.freehand_?this.finishDrawing():this.freehand_||o&&this.mode_!==R.POINT||(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing()}return!e&&this.stopClick_&&t.preventDefault(),e},e.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,o=t.pixel,i=e[0]-o[0],s=e[1]-o[1],n=i*i+s*s;if(this.shouldHandle_=this.freehand_?n>this.squaredClickTolerance_:n<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var o=!1,i=[this.finishCoordinate_],s=this.mode_;if(s===R.POINT)e=!0;else if(s===R.CIRCLE)e=2===this.sketchCoords_.length;else if(s===R.LINE_STRING)o=this.sketchCoords_.length>this.minPoints_;else if(s===R.POLYGON){var n=this.sketchCoords_;o=n[0].length>this.minPoints_,i=[n[0][0],n[0][n[0].length-2]]}if(o)for(var r=this.getMap(),h=0,a=i.length;h<a;h++){var d=i[h],l=r.getPixelFromCoordinate(d),_=t[0]-l[0],u=t[1]-l[1];if(e=Math.sqrt(_*_+u*u)<=(this.freehand_?1:this.snapTolerance_)){this.finishCoordinate_=d;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(t):(this.sketchPoint_=new _.Z(new v.Z(t)),this.updateSketchFeatures_())},e.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new _.Z);var e=t.getLinearRing(0),o=this.sketchLine_.getGeometry();o?(o.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),o.changed()):(o=new p.Z(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(o))},e.prototype.startDrawing_=function(t){for(var e=this.getMap().getView().getProjection(),o=(0,i.tP)(this.geometryLayout_);t.length<o;)t.push(0);this.finishCoordinate_=t,this.mode_===R.POINT?this.sketchCoords_=t.slice():this.mode_===R.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new _.Z(new p.Z(this.sketchLineCoords_)));var s=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new _.Z,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(s),this.updateSketchFeatures_(),this.dispatchEvent(new I(S.DRAWSTART,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){for(var e,o,s=this.getMap(),n=this.sketchFeature_.getGeometry(),r=s.getView().getProjection(),h=(0,i.tP)(this.geometryLayout_);t.length<h;)t.push(0);this.mode_===R.POINT?o=this.sketchCoords_:this.mode_===R.POLYGON?(o=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(s.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):o=(e=this.sketchCoords_)[e.length-1],o[0]=t[0],o[1]=t[1],this.geometryFunction_(this.sketchCoords_,n,r),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(t),"Polygon"===n.getType()&&this.mode_!==R.POLYGON?this.createOrUpdateCustomSketchLine_(n):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,o,i=this.sketchFeature_.getGeometry(),s=this.getMap().getView().getProjection(),n=this.mode_;n===R.LINE_STRING||n===R.CIRCLE?(this.finishCoordinate_=t.slice(),(o=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?o.pop():e=!0),o.push(t.slice()),this.geometryFunction_(o,i,s)):n===R.POLYGON&&((o=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?o.pop():e=!0),o.push(t.slice()),e&&(this.finishCoordinate_=o[0]),this.geometryFunction_(this.sketchCoords_,i,s)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry(),o=this.getMap().getView().getProjection(),i=this.mode_;if(i===R.LINE_STRING||i===R.CIRCLE){if((t=this.sketchCoords_).splice(-2,1),t.length>=2){this.finishCoordinate_=t[t.length-2].slice();var s=this.finishCoordinate_.slice();t[t.length-1]=s,this.createOrUpdateSketchPoint_(s)}this.geometryFunction_(t,e,o),"Polygon"===e.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if(i===R.POLYGON){(t=this.sketchCoords_[0]).splice(-2,1);var n=this.sketchLine_.getGeometry();if(t.length>=2){var s=t[t.length-2].slice();t[t.length-1]=s,this.createOrUpdateSketchPoint_(s)}n.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,o)}1===t.length&&this.abortDrawing(),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,o=t.getGeometry(),i=this.getMap().getView().getProjection();this.mode_===R.LINE_STRING?(e.pop(),this.geometryFunction_(e,o,i)):this.mode_===R.POLYGON&&(e[0].pop(),this.geometryFunction_(e,o,i),e=o.getCoordinates()),"MultiPoint"===this.type_?t.setGeometry(new m.Z([e])):"MultiLineString"===this.type_?t.setGeometry(new y.Z([e])):"MultiPolygon"===this.type_&&t.setGeometry(new C.Z([e])),this.dispatchEvent(new I(S.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},e.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new I(S.DRAWABORT,t))},e.prototype.appendCoordinates=function(t){var e,o=this.mode_,i=!this.sketchFeature_;if(i&&this.startDrawing_(t[0]),o===R.LINE_STRING||o===R.CIRCLE)e=this.sketchCoords_;else{if(o!==R.POLYGON)return;e=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}i&&e.shift(),e.pop();for(var s=0;s<t.length;s++)this.addToDrawing_(t[s]);var n=t[t.length-1];this.addToDrawing_(n),this.modifyDrawing_(n)},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var o=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=o.slice(),this.sketchCoords_.push(o.slice()),this.sketchPoint_=new _.Z(new v.Z(o)),this.updateSketchFeatures_(),this.dispatchEvent(new I(S.DRAWSTART,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)},e}(k.Z)}}]);