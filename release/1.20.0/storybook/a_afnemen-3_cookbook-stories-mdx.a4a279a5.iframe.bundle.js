"use strict";(self.webpackChunkuigov_web_components=self.webpackChunkuigov_web_components||[]).push([[4660],{"./node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js":(e,n,r)=>{r.d(n,{NF:()=>d,Zo:()=>a,ah:()=>i,pC:()=>o});var t=r("./node_modules/react/index.js");let o=t.createContext({});function d(e){return function(n){let r=i(n.components);return t.createElement(e,{...n,allComponents:r})}}function i(e){let n=t.useContext(o);return t.useMemo(()=>"function"==typeof e?e(n):{...n,...e},[n,e])}let s={};function a({components:e,children:n,disableParentContext:r}){let d;return d=r?"function"==typeof e?e({}):e||s:i(e),t.createElement(o.Provider,{value:d},n)}},"./apps/storybook/docs/a_afnemen/3_cookbook.stories.mdx":(e,n,r)=>{r.r(n),r.d(n,{__page:()=>a,default:()=>c}),r("./node_modules/react/index.js");var t=r("./node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js"),o=r("./node_modules/@storybook/blocks/dist/index.mjs");let d=r.p+"static/media/autocomplete.3f9ec584.png";var i=r("./node_modules/react/jsx-runtime.js");function s(e){let n=Object.assign({h1:"h1",h2:"h2",ul:"ul",li:"li",a:"a",h3:"h3",p:"p",code:"code",pre:"pre",strong:"strong",blockquote:"blockquote",h4:"h4"},(0,t.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.h_,{title:"Afnemen/Cookbook"}),"\n",(0,i.jsx)(n.h1,{id:"cookbook-wip",children:"Cookbook (WIP)"}),"\n",(0,i.jsx)(n.h2,{id:"inhoudstafel",children:"Inhoudstafel"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#artifacts",children:"Artifacts"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#styling",children:"Styling"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#map",children:"Map"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"artifacts",children:"Artifacts"}),"\n",(0,i.jsx)(n.h3,{id:"beschikbaarheid",children:"Beschikbaarheid"}),"\n",(0,i.jsxs)(n.p,{children:["Alle artifacts zijn beschikbaar via de ",(0,i.jsx)(n.a,{href:"https://repo.omgeving.vlaanderen.be/ui/packages",target:"_blank",rel:"nofollow noopener noreferrer",children:"JFrog Artifactory"})," van\nDepartement Omgeving. Om ze af te nemen dien je je ",(0,i.jsx)(n.code,{children:"~/.npmrc"})," als volgt te configureren:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"registry=https://repo.omgeving.vlaanderen.be/artifactory/api/npm/acd-npm/\n//repo.omgeving.vlaanderen.be/artifactory/api/npm/acd-npm/:_authToken=xXxyYyzZz\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Je persoonlijk authToken kan je vinden door naar ",(0,i.jsx)(n.a,{href:"https://repo.omgeving.vlaanderen.be/ui/packages",target:"_blank",rel:"nofollow noopener noreferrer",children:"JFrog Artifactory"}),"\nte gaan, dan rechtsboven een ",(0,i.jsx)(n.code,{children:"Log in"})," doen, links via ",(0,i.jsx)(n.code,{children:"Artifacts"})," de repo ",(0,i.jsx)(n.code,{children:"acd-npm"})," selecteren en dan via ",(0,i.jsx)(n.code,{children:"Set Me Up"}),"\nkan je een ",(0,i.jsx)(n.strong,{children:"token"})," genereren."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["** Opmerking**: als je (tijdelijk) wil wisselen naar de 'default' npm repository kan je in je ",(0,i.jsx)(n.code,{children:"~/.npmrc"})," bestand de\nregistry lijn in commentaar zetten en vervangen door ",(0,i.jsx)(n.code,{children:"registry=https://registry.npmjs.org/"})]}),"\n"]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(n.h3,{id:"typing---dts-files",children:"Typing - .d.ts files"}),"\n",(0,i.jsx)(n.p,{children:"De broncode van de uigov-web-components wordt in TypeScript geschreven. In de npm packages wordt die code naar\nJavaScript getranspilede, daarnaast zitten er ook .d.ts bestanden in de bundel. Door eindtoepassingen in TypeScript te\nschrijven zorgen deze .d.ts bestanden ervoor dat je typed kan werken en er bvb. autocomplete functionaliteit in\nje IDE is."}),"\n",(0,i.jsx)("img",{src:d,alt:"Autocomplete",height:"350px"}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(n.h3,{id:"debugging---map-files",children:"Debugging - map files"}),"\n",(0,i.jsx)(n.p,{children:"In de npm packages van de uigov-web-components zitten ook .js.map bestanden. De .js bestanden hebben een referentie\nnaar die .js.map bestanden waarin de originele broncode (in TypeScript) zit. Als de configuratie juist is kan je\ndaarmee de broncode van de uigov-web-components debuggen."}),"\n",(0,i.jsxs)(n.p,{children:["Als je je eindtoepassing bundelt met ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/",target:"_blank",rel:"nofollow noopener noreferrer",children:"webpack"})," dien je in je webpack configuratie de\n",(0,i.jsx)(n.a,{href:"https://webpack.js.org/loaders/source-map-loader/",target:"_blank",rel:"nofollow noopener noreferrer",children:"source-map-loader"})," toe te voegen. Deze plugin zorgt ervoor dat\nde .js.map bestanden transitief mee opgenomen worden in de bundel van de eindtoepassing."]}),"\n",(0,i.jsx)(n.p,{children:"Om de plugin te gebruiken moet je hem installeren"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"npm i -D source-map-loader\n"})}),"\n",(0,i.jsx)(n.p,{children:"en nadien configureren"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'module.exports = {\n  module: {\n    rules: [\n      {\n        test: /\\.js$/,\n        enforce: "pre",\n        use: ["source-map-loader"],\n      },\n    ],\n  },\n};\n'})}),"\n",(0,i.jsx)(n.h3,{id:"cdn-bundel---fat-js",children:"CDN Bundel - fat-js"}),"\n",(0,i.jsx)(n.p,{children:"Voor gewone websites of legacy toepassingen (die geen bundler gebruiken) worden alle web-componenten ook beschikbaar\ngesteld via een statische bundel op de CDN. Doordat er dan geen bundler gebruikt wordt kan er geen tree-shaking\nplaatsvinden, om die rede bieden we het script enkel geversioneerd aan en niet onder een 'latest' variant. Op die\nmanier moet je expliciet een versie specifi\xebren (om bewust te upgraden) en mag het bestand ge-cached worden - bij een\nnieuwe versie wijzigt de naam."}),"\n",(0,i.jsxs)(n.p,{children:["De ",(0,i.jsx)(n.code,{children:"fat-js"})," bestanden zijn beschikbaar onder ",(0,i.jsx)(n.code,{children:"https://cdn.omgeving.vlaanderen.be/domg/wc"}),", daar staan per versie 3\nbestanden:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"domg-wc-1.18.0.js"})," - de leesbare variant [7,3 MB]"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"domg-wc-1.18.0.js.map"})," - de map file om de leesbare variant te debuggen [11,3 MB]"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"domg-wc-1.18.0.min.js"})," - de productie versie [3,4 MB]"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'<!DOCTYPE html>\n<html lang="nl">\n<head>\n  <title>UIG Demo</title>\n  <script type="module"\n          src="https://cdn.omgeving.vlaanderen.be/domg/wc/domg-wc-1.18.0.min.js"></script>\n</head>\n<body>\n  <div is="vl-layout">...</div>\n</body>\n</html>\n'})}),"\n",(0,i.jsx)(n.h2,{id:"imports",children:"Imports"}),"\n",(0,i.jsx)(n.h3,{id:"import-varianten",children:"Import Varianten"}),"\n",(0,i.jsxs)(n.p,{children:["Er zijn verschillende manieren om te ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import",target:"_blank",rel:"nofollow noopener noreferrer",children:"importeren"}),".\nDe meest gangbare om de @domg-wc web-componenten te gebruiken zijn:"]}),"\n",(0,i.jsx)(n.h4,{id:"import-met-side-effects",children:"Import met side-effects"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"import '@domg-wc/elements/button';\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Voor elke component is er op component niveau een barrel file voorzien (index.js). Indien er meerdere (sub-)componenten\nzijn worden deze allemaal door deze import geregistreerd, in dit geval ",(0,i.jsx)(n.code,{children:"VlButtonElement"})," en ",(0,i.jsx)(n.code,{children:"VlLinkButtonElement"}),".\nOp deze manier krijg je ",(0,i.jsx)(n.strong,{children:"geen referentie"})," naar de component, maar zowel de IDE als de bundler (bvb. webpack) weerhoudt\nde code (ze wordt niet verwijderd omdat ze als dode code gezien wordt)."]}),"\n",(0,i.jsx)(n.h4,{id:"named-import",children:"Named Import"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"import { registerWebComponents } from '@domg-wc/common-utilities';\nimport { VlButtonElement, VlLinkButtonElement } from '@domg-wc/elements/button';\n\nregisterWebComponents([VlButtonElement, VlLinkButtonElement]);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Bij een named import moet je ook 'iets' doen met de referentie, anders zal zowel de IDE als de bundler dit als 'dode'\ncode zien. Je IDE zal bij een re-arrange de import verwijderen, de bundler zal de code ",(0,i.jsx)(n.strong,{children:"niet weerhouden"}),".\nOm dit te vermijden moet je de referentie gebruiken. Het is voldoende de referentie op te nemen, gewoon ",(0,i.jsx)(n.code,{children:"VlButtonElement;"}),"\nonder je import zetten. Om echter duidelijk te maken waarom je dit doet voorzien we de methode ",(0,i.jsx)(n.code,{children:"registerWebComponents"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"named-import-via-root-barrel-file",children:"Named Import via root-barrel file"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"import { registerWebComponents } from '@domg-wc/common-utilities';\nimport { VlButtonElement, VlLinkButtonElement } from '@domg-wc/elements';\n\nregisterWebComponents([VlButtonElement, VlLinkButtonElement]);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Dit is een variant op de gewone named import. Elke @domg-wc artifact voorziet op root niveau een barrel file waarin alle\ncomponenten van het artifact ge-exporteerd worden. ",(0,i.jsx)("br",{}),"\nBelangrijk: in de package.json van het artifact wordt de root-barrel-file expliciet gemarkeerd als\n",(0,i.jsx)(n.strong,{children:"zonder neveneffecten"}),". Dit maakt dat je op deze manier enkel de componenten die je refereert importeert, niets meer."]}),"\n",(0,i.jsx)(n.h3,{id:"side-effects",children:"Side Effects"}),"\n",(0,i.jsxs)(n.p,{children:["Een ",(0,i.jsx)(n.a,{href:"https://sgom.es/posts/2020-06-15-everything-you-never-wanted-to-know-about-side-effects/",target:"_blank",rel:"nofollow noopener noreferrer",children:"JavaScript side effect"}),"\nis code die uitgevoerd wordt omdat ze ge\xefmporteerd wordt, niet omdat ze aangeroepen wordt. Dit heeft impact op het\ntree-shaken bij het bundelen. Vaak gebeurd het registreren van een web-component als side-effect in dezelfde module\n(bestand) als waar de component gedefinieerd wordt."]}),"\n",(0,i.jsxs)(n.p,{children:["Opmerking: de ",(0,i.jsx)(n.code,{children:"@domg-wc"})," web-componenten worden geregistreerd m.b.v. de\n",(0,i.jsx)(n.a,{href:"https://netbasal.com/behind-the-scenes-how-typescript-decorators-operate-28f8dcacb224",target:"_blank",rel:"nofollow noopener noreferrer",children:"decorator"})," ",(0,i.jsx)(n.code,{children:"@webComponent"}),"\ndie zorgt ervoor dat na typescript transpilatie de javascript code er als onderstaand uitziet. Daardoor zal de\nregistratie gebeuren onafhanklijk van de manier van importeren, zolang de code maar niet ge-tree-shaked wordt!"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"let VlAccordionComponent = class VlAccordionComponent extends BaseElementOfType(HTMLElement) {\n ...\n};\nVlAccordionComponent = __decorate([\n    webComponent('vl-accordion'),\n    __metadata(\"design:paramtypes\", [])\n], VlAccordionComponent);\nexport { VlAccordionComponent };\n"})}),"\n",(0,i.jsx)(n.h2,{id:"tree-shaking",children:"Tree Shaking"}),"\n",(0,i.jsxs)(n.p,{children:["Als je een bundler gebruikt - bvb. webpack of rollup - dan zal deze transitief (typisch vertrekkend vanuit je\napplicatieve index.js) enkel die code opnemen die je importeert. Code die niet gerefereerd wordt of als ongebruikt\ngezien wordt beland niet in de bundel. Dit proces van enkel relevante code opnemen noemt\n",(0,i.jsx)(n.a,{href:"https://webpack.js.org/guides/tree-shaking/",target:"_blank",rel:"nofollow noopener noreferrer",children:"tree shaking"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["De te preferen bundler bij Departement Omgeving is webpack. Om te tree-shaken houdt webpack rekening met de\n",(0,i.jsx)(n.a,{href:"https://webpack.js.org/guides/tree-shaking/#clarifying-tree-shaking-and-sideeffects",target:"_blank",rel:"nofollow noopener noreferrer",children:"'sideEffects'"})," zoals\ngespecifieerd in de package.json's (zowel van de applicatie als van de bibliotheken die gerefereerd worden).\nBelangrijk hierbij is dat de default (indien er niets gespecifieerd wordt) ",(0,i.jsx)(n.code,{children:"sideEffects=true"})," is. Dit heeft tot\ngevolg dat als je eender welke named import doet via een barrel file ook alle andere vermelde exports ge\xefmporteerd\nworden. Om die rede worden in de ",(0,i.jsx)(n.code,{children:"@domg-wc"})," artifacts de root-barrel files ge-exclude uit de sideEffects. Vroeger\n(< v1.17.0) werd de default gebruikt waardoor er niet ge-tree-shaked werd als je op die manier imports deed en via\nwebpack de bundel maakte."]}),"\n",(0,i.jsx)(n.p,{children:"Opmerking 1: webpack werkt eigenlijk niet conform de import specificatie, een named import zou eigenlijk geen\nside-effects mogen geven, daarvoor is expliciet de 'import with side-effects' voorzien."}),"\n",(0,i.jsxs)(n.p,{children:["Opmerking 2: omdat we ",(0,i.jsx)(n.strong,{children:"op component niveau"})," - voor webpack - sideffects activeren voor die sub-barrel files zorgt\ndat ervoor dat als je het onderstaande doet toch ook ",(0,i.jsx)(n.code,{children:"VlLinkButtonElement"})," geregistreerd wordt. Terwijl als je via de\nroot-barrel file gaat VlLinkButtonElement niet geregistreerd wordt!"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"import { VlButtonElement } from '@domg-wc/elements/button';\nVlButtonElement;\n"})}),"\n",(0,i.jsx)(n.h2,{id:"styling",children:"Styling"}),"\n",(0,i.jsx)(n.h3,{id:"elementen--css",children:"Elementen & CSS"}),"\n",(0,i.jsxs)(n.p,{children:["Alle ",(0,i.jsx)(n.code,{children:"@domg-wc elementen"}),", zijnde de web-componenten die zich in de package ",(0,i.jsx)(n.code,{children:"@domg-wc/elements"})," bevinden, zorgen\nervoor dat eenmalig alle css op document niveau geregistreerd wordt. Technisch gebeurd dat door de decorator\n",(0,i.jsx)(n.code,{children:"@elementStyles"})," die de volgende code uitvoert:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"class RegisterStyles {\n    static elementStylesRegistered = false;\n\n    static registerElementsStyles() {\n        if (!RegisterStyles.elementStylesRegistered) {\n            document.adoptedStyleSheets = [\n                ...document.adoptedStyleSheets,\n                ...(allElementStyles.map((style) => style.styleSheet) as CSSStyleSheet[]),\n            ];\n            RegisterStyles.elementStylesRegistered = true;\n            console.log('element-styling toegevoegd aan het document');\n        }\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"custom-css",children:"Custom CSS"}),"\n",(0,i.jsxs)(n.p,{children:["Voor de componenten onder ",(0,i.jsx)(n.code,{children:"map"})," en ",(0,i.jsx)(n.code,{children:"components"})," is het mogelijk om een custom CSS-string mee te geven aan het\nattribuut ",(0,i.jsx)(n.code,{children:"data-vl-custom-css"}),". Deze CSS wordt dan toegevoegd aan de adoptedStyleSheets van de shadow DOM van\nde desbetreffende component."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Opgelet bij het gebruik hiervan, hierdoor kan je de styling van DV breken!"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<vl-accordion-list data-vl-custom-css=".vl-accordion-list {border: 10px solid lightblue}">\n'})}),"\n",(0,i.jsx)(n.h3,{id:"4-background-css-classes",children:"4 background css classes"}),"\n",(0,i.jsx)(n.p,{children:"TODO - Kris S."}),"\n",(0,i.jsx)(n.h3,{id:"kleuren-palet",children:"kleuren palet"}),"\n",(0,i.jsx)(n.p,{children:"TODO - na implementatie van https://www.milieuinfo.be/jira/browse/UIG-2514"}),"\n",(0,i.jsx)(n.h2,{id:"map",children:"Map"}),"\n",(0,i.jsx)(n.h3,{id:"open-layers",children:"Open Layers"}),"\n",(0,i.jsx)(n.p,{children:"TODO - referentie(s) - Karim D."})]})}let a=()=>{throw Error("Docs-only story")};a.parameters={docsOnly:!0};let l={title:"Afnemen/Cookbook",tags:["stories-mdx"],includeStories:["__page"]};l.parameters=l.parameters||{},l.parameters.docs={...l.parameters.docs||{},page:function(e={}){let{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(s,{...e})}):s(e)}};let c=l},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(e,n,r)=>{/** @license React v17.0.0
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */r("./node_modules/object-assign/index.js");var t=r("./node_modules/react/index.js"),o=60103;if(n.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var d=Symbol.for;o=d("react.element"),n.Fragment=d("react.fragment")}var i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,a={key:!0,ref:!0,__self:!0,__source:!0};function l(e,n,r){var t,d={},l=null,c=null;for(t in void 0!==r&&(l=""+r),void 0!==n.key&&(l=""+n.key),void 0!==n.ref&&(c=n.ref),n)s.call(n,t)&&!a.hasOwnProperty(t)&&(d[t]=n[t]);if(e&&e.defaultProps)for(t in n=e.defaultProps)void 0===d[t]&&(d[t]=n[t]);return{$$typeof:o,type:e,key:l,ref:c,props:d,_owner:i.current}}n.jsx=l,n.jsxs=l},"./node_modules/react/jsx-runtime.js":(e,n,r)=>{e.exports=r("./node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);