"use strict";(self.webpackChunkuigov_web_components=self.webpackChunkuigov_web_components||[]).push([[313],{"./node_modules/lit/decorators.js":(e,t,a)=>{var n;a.d(t,{Mo:()=>r,Cb:()=>s});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let r=e=>t=>"function"==typeof t?((e,t)=>(customElements.define(e,t),t))(e,t):((e,t)=>{let{kind:a,elements:n}=t;return{kind:a,elements:n,finisher(t){customElements.define(e,t)}}})(e,t),o=(e,t)=>"method"!==t.kind||!t.descriptor||"value"in t.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(a){a.createProperty(t.key,e)}}:{...t,finisher(a){a.createProperty(t.key,e)}},i=(e,t,a)=>{t.constructor.createProperty(a,e)};function s(e){return(t,a)=>void 0!==a?i(e,t,a):o(e,t)}null!=(null===(n=window.HTMLSlotElement)||void 0===n?void 0:n.prototype.assignedElements)||((e,t)=>e.assignedNodes(t).filter(e=>e.nodeType===Node.ELEMENT_NODE))},"./libs/map/src/actions/select/select-action.ts":(e,t,a)=>{a.d(t,{v:()=>i});var n=a("./node_modules/ol/events/condition.js"),r=a("./node_modules/ol/interaction/Select.js"),o=a("./libs/map/src/actions/mapaction.ts");class i extends o.D{constructor(e,t,a){let o=a&&a.cluster,i=a&&a.filter?a.filter:()=>!0,s=a?a.style:null,l=a&&a.hoverStyle||s,c=Array.isArray(e)?e:[e],d=(e,t)=>(this.selectInteraction.getFeatures().clear(),this.filter(e,t)),p=(e,t)=>{let a=-1!==this.selectInteraction.getFeatures().getArray().indexOf(e);return this.filter(e,t)&&!a},h=new r.Z({filter:p,condition:n.MJ,style:l,layers:c}),m=new r.Z({condition:n.Fi,style:s,layers:c}),g=new r.Z({filter:d,condition:n.V4,style:s,layers:c});super([m,g,h]),this.cluster=o,this.filter=i,this.layer=e,this.style=s,this.hoverStyle=l,this.hoverInteraction=h,this.markInteraction=m,this.selectInteraction=g,this.hoverInteraction.on("select",()=>{let e=this.map.getTargetElement();this.hoverInteraction.getFeatures().getLength()>0?e.style.cursor="pointer":e.style.cursor="",this.map.render()}),this.selectedFeature=null,this.getLayer=()=>e;let u=e=>{let t=e.getArray().indexOf(this.selectedFeature),a=t+1;return a>e.getLength()-1&&(a=0),e.getArray()[a]};this.selectInteraction.on("select",e=>{this.markInteraction.getFeatures().clear(),this.selectInteraction.getFeatures().getLength()>0?(1===this.selectInteraction.getFeatures().getLength()?this.selectedFeature=this.selectInteraction.getFeatures().getArray()[0]:this.selectedFeature=u(this.selectInteraction.getFeatures()),t&&t(this.selectedFeature,e,this.getLayer())):(this.selectedFeature=null,t&&t()),this.map.render()}),this.selectInteractionFilter=d,this.hoverInteractionFilter=p}_fixClusterBehavior(){if(this.selectedFeature){let e=this.selectedFeature.get("features")||[this.selectedFeature];this.selectInteraction.getFeatures().clear(),this.markInteraction.getFeatures().clear(),e&&e.forEach(e=>{e.getId()&&this.markFeatureWithId(e.getId())})}}getClusterWithFeatureId(e,t){for(let a=0;a<e.length;a++){let n=e[a].get("features");if(n&&this.getFeatureById(n,t))return e[a]}}getFeatureById(e,t){for(let a=0;a<e.length;a++)if(e[a].getId()===t)return e[a]}clearFeatures(){this.selectInteraction.getFeatures().clear(),this.markInteraction.getFeatures().clear(),this.hoverInteraction.getFeatures().clear()}activate(){this.cluster&&this.map&&(this._fixClusterBehaviorListener=()=>this._fixClusterBehavior(),this.map.on("moveend",this._fixClusterBehaviorListener),this.selectInteraction.on("select",this._fixClusterBehaviorListener)),super.activate()}deactivate(){this._fixClusterBehaviorListener&&(this.map.un("moveend",this._fixClusterBehaviorListener),this.selectInteraction.un("select",this._fixClusterBehaviorListener)),this.clearFeatures(),super.deactivate()}selectFeature(e){this.selectInteraction.getFeatures().push(e),this.selectInteraction.dispatchEvent({type:"select",feature:e})}getSelectedFeatures(){return this.selectInteraction.getFeatures()}deselect(){this.selectedFeature=null}markFeatureWithId(e,t){t=t||this.layer;let a=t.getSource().getFeatureById(e)||this.getClusterWithFeatureId(t.getSource().getFeatures(),e);a&&-1===this.markInteraction.getFeatures().getArray().indexOf(a)&&this.markInteraction.getFeatures().push(a)}isMarked(e){let t=!1;return this.markInteraction.getFeatures().forEach(a=>{a===e&&(t=!0)}),t}demarkAllFeatures(){this.markInteraction.getFeatures().clear()}}},"./libs/map/src/components/action/draw-action/draw-polygon-action/vl-map-draw-polygon-action.ts":(e,t,a)=>{var n=a("./libs/common/utilities/src/index.ts"),r=a("./libs/map/src/actions/draw/draw-action.ts");class o extends r.I{constructor(e,t,a={}){super(e,"Polygon",t,a)}}var i=a("./libs/map/src/components/action/draw-action/vl-map-draw-action.ts");let s=class extends i.n{_createAction(e){return new o(e,this._callback,this.__drawOptions)}};s=function(e,t,a,n){var r,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(o<3?r(i):o>3?r(t,a,i):r(t,a))||i);return o>3&&i&&Object.defineProperty(t,a,i),i}([(0,n.a6)("vl-map-draw-polygon-action")],s)},"./libs/map/src/components/action/layer-action/delete-action/vl-map-delete-action.ts":(e,t,a)=>{var n=a("./libs/common/utilities/src/index.ts"),r=a("./node_modules/ol/style/Style.js"),o=a("./node_modules/ol/style/Fill.js"),i=a("./node_modules/ol/style/Stroke.js"),s=a("./node_modules/ol/style/Circle.js"),l=a("./libs/map/src/actions/select/select-action.ts"),c=a("./node_modules/ol/interaction/DragBox.js");class d extends l.v{constructor(e,t,a){super(e,e=>{e&&t([e])},a),this.dragBoxInteraction=new c.Z,this.addInteraction(this.dragBoxInteraction),this.dragBoxInteraction.on("boxdrag",()=>{let t=this.dragBoxInteraction.getGeometry().getExtent();this.hoverInteraction.getFeatures().clear(),e.getSource().forEachFeatureIntersectingExtent(t,t=>{this.filter(t,e)&&this.hoverInteraction.getFeatures().push(t)})}),this.dragBoxInteraction.on("boxend",()=>{this.hoverInteraction.getFeatures().getLength()>0&&t(this.hoverInteraction.getFeatures().getArray().slice(0))})}}class p extends d{constructor(e,t,a={}){let n=new r.ZP({fill:new o.Z({color:"rgba(241, 174, 174, 0.26)"}),stroke:new i.Z({color:"#db3434",width:1}),image:new s.Z({radius:4,stroke:new i.Z({color:"#db3434",width:1}),fill:new o.Z({color:"rgba(241, 174, 174, 0.26)"})})}),l=t=>{t&&(null==t.getId()||e.getSource().getFeatureById(t.getId())===t)&&e.getSource().removeFeature(t)},c=()=>{this.clearFeatures(),this.map.render()};super(e,e=>{t?t(e,e=>{l(e),c()},()=>{c()}):(e.forEach(e=>{l(e)}),c())},{style:a.style||n,filter:a.filter})}}var h=a("./libs/map/src/components/layer-style/vl-map-layer-style.ts"),m=a("./libs/map/src/components/action/layer-action/vl-map-layer-action.ts");let g=class extends m.N{get style(){return this._style}set style(e){e instanceof h.W?this._style=e.style:this._style=e,this._processAction()}onDelete(e){this.__callback=e}appliesTo(e,t){return!0}get _callback(){return(e,t,a)=>{this.__callback?this.__callback(e,t,a):e.forEach(e=>t(e))}}_createAction(e){let t={style:this._style,filter:this.appliesTo.bind(this)};return new p(e,this._callback,t)}};g=function(e,t,a,n){var r,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(o<3?r(i):o>3?r(t,a,i):r(t,a))||i);return o>3&&i&&Object.defineProperty(t,a,i),i}([(0,n.a6)("vl-map-delete-action")],g)},"./libs/map/src/components/action/layer-action/modify-action/vl-map-modify-action.ts":(e,t,a)=>{var n=a("./libs/common/utilities/src/index.ts"),r=a("./libs/map/src/actions/layer/composite-vector-layer.ts"),o=a("./node_modules/ol/interaction/Modify.js"),i=a("./libs/map/src/actions/snap/snap-interaction.ts"),s=a("./libs/map/src/actions/select/select-action.ts");class l extends s.v{constructor(e,t,a={}){if(super(e,null,{filter:a.filter}),this.options=a,this.modifyInteraction=new o.Z({features:this.selectInteraction.getFeatures()}),this.addInteraction(this.modifyInteraction),a&&a.snapping){let t={...a.snapping};t.layer?this.addInteraction(new i.R(t.layer.getSource(),a.snapping)):this.addInteraction(new i.R(e.getSource(),a.snapping))}this.modifyInteraction.on("modifystart",e=>{let t=e.features.getArray()[0].getGeometry();this.currentGeometryBeingModified=t.clone()}),this.modifyInteraction.on("modifyend",e=>{e.features.forEach(e=>{t(e,e=>{e.setGeometry(this.currentGeometryBeingModified)})})})}activate(){this.options.snapping&&this.options.snapping.layer&&this.map.addLayer(this.options.snapping.layer),super.activate()}deactivate(){this.options.snapping&&this.options.snapping.layer&&this.map.removeLayer(this.options.snapping.layer),super.deactivate()}}var c=a("./libs/map/src/components/layer/vector-layer/vl-map-vector-layer.ts"),d=a("./libs/map/src/components/action/layer-action/vl-map-layer-action.ts");let p=class extends d.N{static get _observedAttributes(){return["snapping","snapping-pixel-tolerance"]}disconnectedCallback(){this.__removeSnappingLayerStyleChangedEventListener()}onModify(e){this.__callback=e}appliesTo(e,t){return!0}_createAction(e){let t={snapping:this.__snappingOptions,filter:this.appliesTo.bind(this)};return new l(e,this._callback,t)}_snappingChangedCallback(){this._processAction()}_snappingPixelToleranceChangedCallback(){this._processAction()}get __snappingOptions(){return void 0===this.dataset.vlSnapping||!(this.__snappingLayers.length>0)||{layer:this.__createSnappingLayer(),pixelTolerance:this.dataset.vlSnappingPixelTolerance||10,node:!1,vertex:!1}}__createSnappingLayer(){return this.__snappingLayer=new r.S(this.__snappingLayers.map(e=>e._layer),{}),this.__addSnappingLayerStyleChangedEventListener(),this.__snappingLayer}__addSnappingLayerStyleChangedEventListener(){if(this.__snappingLayers&&this.__snappingLayers.length>0){let e=this.__snappingLayers[0];this.__snappingLayer.setStyle(e.style),this.__onSnappingLayerStyleChanged=e=>this.__snappingLayer.setStyle(e.target.style),e.addEventListener(c.b.EVENTS.styleChanged,this.__onSnappingLayerStyleChanged)}}__removeSnappingLayerStyleChangedEventListener(){this.__snappingLayers&&this.__snappingLayers.length>0&&this.__snappingLayers[0].removeEventListener(c.b.EVENTS.styleChanged,this.__onSnappingLayerStyleChanged)}get __snappingLayers(){return Array.from(this.querySelectorAll("vl-map-wfs-layer"))}};p=function(e,t,a,n){var r,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(o<3?r(i):o>3?r(t,a,i):r(t,a))||i);return o>3&&i&&Object.defineProperty(t,a,i),i}([(0,n.a6)("vl-map-modify-action")],p)},"./libs/map/src/components/controls/vl-map-action-controls.ts":(e,t,a)=>{var n=a("./node_modules/lit/index.js"),r=a("./node_modules/lit/decorators.js");let o=(0,n.iv)`
    div {
        position: absolute;
        right: 0px;
        z-index: 1;
        display: flex;
        column-gap: 10px;
        padding: 10px;
    }
`;var i=a("./libs/common/utilities/src/index.ts");let s=class extends i.fS{static get styles(){return[o]}connectedCallback(){super.connectedCallback(),this.actionControls.forEach(e=>{e.addEventListener("change-control",t=>{let a=e.getAttribute("data-vl-action-id");this.handleActionControlChange(a,t)})})}render(){return(0,n.dy)`
            <div>
                <slot></slot>
            </div>
        `}get actionControls(){return this.querySelectorAll("vl-map-action-control")}handleActionControlChange(e,t){t.detail?.isActive&&[...this.actionControls].filter(t=>t.getAttribute("data-vl-action-id")!==e).filter(e=>e.active).forEach(e=>e.deactivate())}};s=function(e,t,a,n){var r,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(o<3?r(i):o>3?r(t,a,i):r(t,a))||i);return o>3&&i&&Object.defineProperty(t,a,i),i}([(0,r.Mo)("vl-map-action-controls")],s)},"./libs/map/src/components/controls/stories/vl-map-action-controls.stories.ts":(e,t,a)=>{a.r(t),a.d(t,{MapActionControlsDefault:()=>d,default:()=>c});var n=a("./node_modules/lit-html/lit-html.js");a("./libs/map/src/vl-map.ts"),a("./libs/map/src/components/baselayer/vl-map-base-layer-grb-gray/vl-map-base-layer-grb-gray.ts"),a("./libs/map/src/components/layer/vector-layer/vl-map-features-layer/vl-map-features-layer.ts"),a("./libs/map/src/components/action/draw-action/draw-polygon-action/vl-map-draw-polygon-action.ts"),a("./libs/map/src/components/action/layer-action/delete-action/vl-map-delete-action.ts"),a("./libs/map/src/components/action/layer-action/modify-action/vl-map-modify-action.ts"),a("./libs/map/src/components/controls/vl-map-action-controls.ts"),a("./node_modules/react/index.js");var r=a("./node_modules/react/jsx-runtime.js"),o=a("./node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js"),i=a("./node_modules/@storybook/blocks/dist/index.mjs");function s(e){let t=Object.assign({h1:"h1",p:"p",code:"code",a:"a",h2:"h2",pre:"pre",h3:"h3"},(0,o.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"map-action-controls",children:"Map Action Controls"}),"\n",(0,r.jsxs)(t.p,{children:["Gebruik de ",(0,r.jsx)(t.code,{children:"map-action-controls"})," component als wrapper rond\n",(0,r.jsx)(t.a,{href:"/docs/map-controls-action-control--map-action-control-default",children:"map-action-control"})," componenten.",(0,r.jsx)("br",{}),"\nDe ",(0,r.jsx)(t.code,{children:"map-action-controls"})," zorgt ervoor dat de map-acties in de rechterbovenhoek van de ",(0,r.jsx)(t.code,{children:"map"})," afgebeeld worden.",(0,r.jsx)("br",{}),"\nVerder zorgt deze ervoor dat er altijd maar 1 actieve ",(0,r.jsx)(t.code,{children:"map-action-control"})," is."]}),"\n",(0,r.jsx)(t.h2,{id:"voorbeeld",children:"Voorbeeld"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"import { VlMapActionControls } from '@domg-wc/map';\n"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-html",children:"<vl-map-action-controls></vl-map-action-controls>\n"})}),"\n",(0,r.jsx)(i.Xz,{of:d}),"\n",(0,r.jsx)(t.h2,{id:"configuratie",children:"Configuratie"}),"\n",(0,r.jsx)(t.p,{children:"Deze component heeft geen configuratie."}),"\n",(0,r.jsx)(t.h2,{id:"referenties",children:"Referenties"}),"\n",(0,r.jsx)(t.h3,{id:"legacy-documentatie",children:"Legacy Documentatie"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://webcomponenten.omgeving.vlaanderen.be/storybook/?path=/docs/custom-elements-vl-map-vl-map-action-controls--default",target:"_blank",rel:"nofollow noopener noreferrer",children:"Legacy Storybook - Map Action Controls"})})]})}var l=a("./libs/common/storybook/src/index.ts");let c={title:"map/controls/action-controls",tags:["autodocs"],args:(0,l.T8)({}),argTypes:(0,l.xj)({}),parameters:{docs:{page:function(e={}){let{wrapper:t}=Object.assign({},(0,o.ah)(),e.components);return t?(0,r.jsx)(t,Object.assign({},e,{children:(0,r.jsx)(s,e)})):s(e)}},controls:{hideNoControlsWarning:!0}}},d=(0,l.yg)({},()=>(0,n.dy)`
        <vl-map>
            <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
            <vl-map-features-layer>
                <vl-map-draw-polygon-action id="draw-action"></vl-map-draw-polygon-action>
                <vl-map-modify-action id="modify-action"></vl-map-modify-action>
                <vl-map-delete-action id="delete-action"></vl-map-delete-action>
            </vl-map-features-layer>
            <vl-map-action-controls>
                <vl-map-action-control data-vl-action-id="draw-action" data-vl-label="Teken"></vl-map-action-control>
                <vl-map-action-control
                    data-vl-action-id="modify-action"
                    data-vl-label="Editeer"
                ></vl-map-action-control>
                <vl-map-action-control
                    data-vl-action-id="delete-action"
                    data-vl-label="Verwijder"
                ></vl-map-action-control>
            </vl-map-action-controls>
        </vl-map>
    `);d.storyName="vl-map-action-controls - default",d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:'story({}, () => html`\n        <vl-map>\n            <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>\n            <vl-map-features-layer>\n                <vl-map-draw-polygon-action id="draw-action"></vl-map-draw-polygon-action>\n                <vl-map-modify-action id="modify-action"></vl-map-modify-action>\n                <vl-map-delete-action id="delete-action"></vl-map-delete-action>\n            </vl-map-features-layer>\n            <vl-map-action-controls>\n                <vl-map-action-control data-vl-action-id="draw-action" data-vl-label="Teken"></vl-map-action-control>\n                <vl-map-action-control\n                    data-vl-action-id="modify-action"\n                    data-vl-label="Editeer"\n                ></vl-map-action-control>\n                <vl-map-action-control\n                    data-vl-action-id="delete-action"\n                    data-vl-label="Verwijder"\n                ></vl-map-action-control>\n            </vl-map-action-controls>\n        </vl-map>\n    `)',...d.parameters?.docs?.source}}}}}]);