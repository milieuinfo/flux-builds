"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[7858],{"../../node_modules/@storybook/addon-docs/dist/index.mjs":(e,r,n)=>{n.d(r,{Hl:()=>o.Hl,W8:()=>o.W8,kL:()=>o.kL,ov:()=>o.ov}),n("../../node_modules/@storybook/addon-docs/dist/chunk-HLWAVYOI.mjs");var o=n("../../node_modules/@storybook/addon-docs/node_modules/@storybook/blocks/dist/index.mjs")},"./docs/g_recepten/tree-shaking.stories.mdx":(e,r,n)=>{n.r(r),n.d(r,{__namedExportsOrder:()=>c,__page:()=>i,default:()=>l}),n("../../node_modules/react/index.js");var o=n("../../node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js"),t=n("../../node_modules/@storybook/addon-docs/dist/index.mjs"),d=n("../../node_modules/react/jsx-runtime.js");function s(e){let r=Object.assign({h1:"h1",p:"p",a:"a",code:"code",strong:"strong",pre:"pre"},(0,o.RP)(),e.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t.W8,{title:"Recepten/Tree Shaking"}),"\n",(0,d.jsx)(r.h1,{id:"tree-shaking",children:"Tree Shaking"}),"\n",(0,d.jsxs)(r.p,{children:["Als je een bundler gebruikt - bvb. webpack of rollup - dan zal deze transitief (typisch vertrekkend vanuit je\napplicatieve index.js) enkel die code opnemen die je importeert. Code die niet gerefereerd wordt of als ongebruikt\ngezien wordt, belandt niet in de bundel. Dit proces van enkel relevante code opnemen noemt\n",(0,d.jsx)(r.a,{href:"https://webpack.js.org/guides/tree-shaking/",target:"_blank",rel:"nofollow noopener noreferrer",children:"tree shaking"}),"."]}),"\n",(0,d.jsxs)(r.p,{children:["De te prefereren bundler bij Departement Omgeving is webpack. Om te tree-shaken houdt webpack rekening met de\n",(0,d.jsx)(r.a,{href:"https://webpack.js.org/guides/tree-shaking/#clarifying-tree-shaking-and-sideeffects",target:"_blank",rel:"nofollow noopener noreferrer",children:"'sideEffects'"})," zoals\ngespecifieerd in de package.json's (zowel van de applicatie als van de bibliotheken die gerefereerd worden).\nBelangrijk hierbij is dat de default (indien er niets gespecifieerd wordt) ",(0,d.jsx)(r.code,{children:"sideEffects=true"})," is. Dit heeft tot\ngevolg dat als je eender welke named import doet via een barrel file ook alle andere vermelde exports ge√Ømporteerd\nworden. Om die rede worden in de ",(0,d.jsx)(r.code,{children:"@domg-wc"})," artifacts de root-barrel files ge-exclude uit de sideEffects. Vroeger\n(< v1.17.0) werd de default gebruikt waardoor er niet ge-tree-shaked werd als je op die manier imports deed en via\nwebpack bundelde."]}),"\n",(0,d.jsx)(r.p,{children:"Opmerking 1: webpack werkt eigenlijk niet conform de import specificatie, een named import zou eigenlijk geen\nside-effects mogen geven, daarvoor is expliciet de 'import with side-effects' voorzien."}),"\n",(0,d.jsxs)(r.p,{children:["Opmerking 2: omdat we ",(0,d.jsx)(r.strong,{children:"op component niveau"})," - voor webpack - sideffects activeren voor die sub-barrel files zorgt\ndat ervoor dat als je het onderstaande doet toch ook ",(0,d.jsx)(r.code,{children:"VlLinkButtonElement"})," geregistreerd wordt. Terwijl als je via de\nroot-barrel file gaat VlLinkButtonElement niet geregistreerd wordt!"]}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{children:"import { VlButtonElement } from '@domg-wc/elements/button';\nVlButtonElement;\n"})})]})}let i=()=>{throw Error("Docs-only story")};i.parameters={docsOnly:!0};let a={title:"Recepten/Tree Shaking",tags:["stories-mdx"],includeStories:["__page"]};a.parameters=a.parameters||{},a.parameters.docs={...a.parameters.docs||{},page:function(e={}){let{wrapper:r}=Object.assign({},(0,o.RP)(),e.components);return r?(0,d.jsx)(r,{...e,children:(0,d.jsx)(s,{...e})}):s(e)}};let l=a,c=["__page"]}}]);