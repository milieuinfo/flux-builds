"use strict";(self.webpackChunkuigov_web_components=self.webpackChunkuigov_web_components||[]).push([[5913],{"./node_modules/ol/interaction/Modify.js":(e,t,i)=>{i.d(t,{Z:()=>A});var s=i("./node_modules/ol/Collection.js"),n=i("./node_modules/ol/CollectionEventType.js"),r=i("./node_modules/ol/events/Event.js"),o=i("./node_modules/ol/events/EventType.js"),l=i("./node_modules/ol/Feature.js"),a=i("./node_modules/ol/MapBrowserEventType.js"),h=i("./node_modules/ol/geom/Point.js"),d=i("./node_modules/ol/interaction/Pointer.js"),u=i("./node_modules/ol/structs/RBush.js"),g=i("./node_modules/ol/source/VectorEventType.js"),_=i("./node_modules/ol/layer/Vector.js"),c=i("./node_modules/ol/source/Vector.js"),m=i("./node_modules/ol/events/condition.js"),f=i("./node_modules/ol/extent.js"),y=i("./node_modules/ol/coordinate.js"),p=i("./node_modules/ol/style/Style.js"),v=i("./node_modules/ol/array.js"),x=i("./node_modules/ol/geom/Polygon.js"),S=i("./node_modules/ol/proj.js"),F=i("./node_modules/ol/util.js");let C=[0,0,0,0],E=[],P={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};class M extends r.ZP{constructor(e,t,i){super(e),this.features=t,this.mapBrowserEvent=i}}class T extends d.Z{constructor(e){let t;if(super(e),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=e.condition?e.condition:m.Xp,this.defaultDeleteCondition_=function(e){return(0,m.Ko)(e)&&(0,m.Kf)(e)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:m.Bx,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new u.Z,this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new _.Z({source:new c.Z({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:function(){let e=(0,p.Ly)();return function(t,i){return e.Point}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null,e.features?t=e.features:e.source&&(this.source_=e.source,t=new s.Z(this.source_.getFeatures()),this.source_.addEventListener(g.Z.ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(g.Z.REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!t)throw Error("The modify interaction requires features, a source or a layer");e.hitDetection&&(this.hitDetection_=e.hitDetection),this.features_=t,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(n.Z.ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(n.Z.REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=void 0===e.snapToPointer?!this.hitDetection_:e.snapToPointer}addFeature_(e){let t=e.getGeometry();if(t){let i=this.SEGMENT_WRITERS_[t.getType()];i&&i(e,t)}let i=this.getMap();i&&i.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,i),e.addEventListener(o.Z.CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(e,t){if(!this.featuresBeingModified_){this.featuresBeingModified_=new s.Z;let i=this.featuresBeingModified_.getArray();for(let e=0,s=t.length;e<s;++e){let s=t[e];for(let e=0,t=s.length;e<t;++e){let t=s[e].feature;t&&!i.includes(t)&&this.featuresBeingModified_.push(t)}}0===this.featuresBeingModified_.getLength()?this.featuresBeingModified_=null:this.dispatchEvent(new M(P.MODIFYSTART,this.featuresBeingModified_,e))}}removeFeature_(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(o.Z.CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(e){let t=this.rBush_,i=[];t.forEach(function(t){e===t.feature&&i.push(t)});for(let e=i.length-1;e>=0;--e){let s=i[e];for(let e=this.dragSegments_.length-1;e>=0;--e)this.dragSegments_[e][0]===s&&this.dragSegments_.splice(e,1);t.remove(s)}}setActive(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(e)}setMap(e){this.overlay_.setMap(e),super.setMap(e)}getOverlay(){return this.overlay_}handleSourceAdd_(e){e.feature&&this.features_.push(e.feature)}handleSourceRemove_(e){e.feature&&this.features_.remove(e.feature)}handleFeatureAdd_(e){this.addFeature_(e.element)}handleFeatureChange_(e){if(!this.changingFeature_){let t=e.target;this.removeFeature_(t),this.addFeature_(t)}}handleFeatureRemove_(e){this.removeFeature_(e.element)}writePointGeometry_(e,t){let i=t.getCoordinates();this.rBush_.insert(t.getExtent(),{feature:e,geometry:t,segment:[i,i]})}writeMultiPointGeometry_(e,t){let i=t.getCoordinates();for(let s=0,n=i.length;s<n;++s){let n=i[s],r={feature:e,geometry:t,depth:[s],index:s,segment:[n,n]};this.rBush_.insert(t.getExtent(),r)}}writeLineStringGeometry_(e,t){let i=t.getCoordinates();for(let s=0,n=i.length-1;s<n;++s){let n=i.slice(s,s+2),r={feature:e,geometry:t,index:s,segment:n};this.rBush_.insert((0,f.hI)(n),r)}}writeMultiLineStringGeometry_(e,t){let i=t.getCoordinates();for(let s=0,n=i.length;s<n;++s){let n=i[s];for(let i=0,r=n.length-1;i<r;++i){let r=n.slice(i,i+2),o={feature:e,geometry:t,depth:[s],index:i,segment:r};this.rBush_.insert((0,f.hI)(r),o)}}}writePolygonGeometry_(e,t){let i=t.getCoordinates();for(let s=0,n=i.length;s<n;++s){let n=i[s];for(let i=0,r=n.length-1;i<r;++i){let r=n.slice(i,i+2),o={feature:e,geometry:t,depth:[s],index:i,segment:r};this.rBush_.insert((0,f.hI)(r),o)}}}writeMultiPolygonGeometry_(e,t){let i=t.getCoordinates();for(let s=0,n=i.length;s<n;++s){let n=i[s];for(let i=0,r=n.length;i<r;++i){let r=n[i];for(let n=0,o=r.length-1;n<o;++n){let o=r.slice(n,n+2),l={feature:e,geometry:t,depth:[i,s],index:n,segment:o};this.rBush_.insert((0,f.hI)(o),l)}}}}writeCircleGeometry_(e,t){let i=t.getCenter(),s={feature:e,geometry:t,index:0,segment:[i,i]},n={feature:e,geometry:t,index:1,segment:[i,i]},r=[s,n];s.featureSegments=r,n.featureSegments=r,this.rBush_.insert((0,f.HK)(i),s);let o=t,l=(0,S.Cs)();if(l&&this.getMap()){let e=this.getMap().getView().getProjection();o=o.clone().transform(l,e),o=(0,x.Bb)(o).transform(e,l)}this.rBush_.insert(o.getExtent(),n)}writeGeometryCollectionGeometry_(e,t){let i=t.getGeometriesArray();for(let t=0;t<i.length;++t){let s=i[t];(0,this.SEGMENT_WRITERS_[s.getType()])(e,s)}}createOrUpdateVertexFeature_(e,t,i){let s=this.vertexFeature_;return s?s.getGeometry().setCoordinates(e):(s=new l.Z(new h.Z(e)),this.vertexFeature_=s,this.overlay_.getSource().addFeature(s)),s.set("features",t),s.set("geometries",i),s}handleEvent(e){let t;return!e.originalEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=a.Z.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(t=e.type==a.Z.SINGLECLICK&&!!this.ignoreNextSingleClick_||this.removePoint()),e.type==a.Z.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(e)&&!t)}handleDragEvent(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e,this.dragSegments_);let t=[e.coordinate[0]+this.delta_[0],e.coordinate[1]+this.delta_[1]],i=[],s=[];for(let n=0,r=this.dragSegments_.length;n<r;++n){let r;let o=this.dragSegments_[n],l=o[0],a=l.feature;i.includes(a)||i.push(a);let h=l.geometry;s.includes(h)||s.push(h);let d=l.depth,u=l.segment,g=o[1];for(;t.length<h.getStride();)t.push(u[g][t.length]);switch(h.getType()){case"Point":r=t,u[0]=t,u[1]=t;break;case"MultiPoint":(r=h.getCoordinates())[l.index]=t,u[0]=t,u[1]=t;break;case"LineString":(r=h.getCoordinates())[l.index+g]=t,u[g]=t;break;case"MultiLineString":case"Polygon":(r=h.getCoordinates())[d[0]][l.index+g]=t,u[g]=t;break;case"MultiPolygon":(r=h.getCoordinates())[d[1]][d[0]][l.index+g]=t,u[g]=t;break;case"Circle":if(u[0]=t,u[1]=t,0===l.index)this.changingFeature_=!0,h.setCenter(t),this.changingFeature_=!1;else{this.changingFeature_=!0;let i=e.map.getView().getProjection(),s=(0,y.TE)((0,S.Vs)(h.getCenter(),i),(0,S.Vs)(t,i)),n=(0,S.Cs)();if(n){let e=h.clone().transform(n,i);e.setRadius(s),s=e.transform(i,n).getRadius()}h.setRadius(s),this.changingFeature_=!1}}r&&this.setGeometryCoordinates_(h,r)}this.createOrUpdateVertexFeature_(t,i,s)}handleDownEvent(e){if(!this.condition_(e))return!1;let t=e.coordinate;this.handlePointerAtPixel_(e.pixel,e.map,t),this.dragSegments_.length=0,this.featuresBeingModified_=null;let i=this.vertexFeature_;if(i){let s=e.map.getView().getProjection(),n=[],r=i.getGeometry().getCoordinates(),o=(0,f.hI)([r]),l=this.rBush_.getInExtent(o),a={};l.sort(w);for(let i=0,o=l.length;i<o;++i){let o=l[i],h=o.segment,d=(0,F.sq)(o.geometry),u=o.depth;if(u&&(d+="-"+u.join("-")),a[d]||(a[d]=[,,]),"Circle"===o.geometry.getType()&&1===o.index){let e=b(t,o,s);(0,y.fS)(e,r)&&!a[d][0]&&(this.dragSegments_.push([o,0]),a[d][0]=o);continue}if((0,y.fS)(h[0],r)&&!a[d][0]){this.dragSegments_.push([o,0]),a[d][0]=o;continue}if((0,y.fS)(h[1],r)&&!a[d][1]){if(a[d][0]&&0===a[d][0].index){let e=o.geometry.getCoordinates();switch(o.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":e=e[u[1]];case"Polygon":if(o.index!==e[u[0]].length-2)continue}}this.dragSegments_.push([o,1]),a[d][1]=o;continue}(0,F.sq)(h) in this.vertexSegments_&&!a[d][0]&&!a[d][1]&&this.insertVertexCondition_(e)&&n.push(o)}n.length&&this.willModifyFeatures_(e,[n]);for(let e=n.length-1;e>=0;--e)this.insertVertex_(n[e],r)}return!!this.vertexFeature_}handleUpEvent(e){for(let t=this.dragSegments_.length-1;t>=0;--t){let i=this.dragSegments_[t][0],s=i.geometry;if("Circle"===s.getType()){let t=s.getCenter(),n=i.featureSegments[0],r=i.featureSegments[1];n.segment[0]=t,n.segment[1]=t,r.segment[0]=t,r.segment[1]=t,this.rBush_.update((0,f.HK)(t),n);let o=s,l=(0,S.Cs)();if(l){let t=e.map.getView().getProjection();o=o.clone().transform(l,t),o=(0,x.Bb)(o).transform(t,l)}this.rBush_.update(o.getExtent(),r)}else this.rBush_.update((0,f.hI)(i.segment),i)}return this.featuresBeingModified_&&(this.dispatchEvent(new M(P.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null),!1}handlePointerMove_(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map,e.coordinate)}handlePointerAtPixel_(e,t,i){let s,n;let r=i||t.getCoordinateFromPixel(e),o=t.getView().getProjection();if(this.hitDetection_){let i="object"==typeof this.hitDetection_?e=>e===this.hitDetection_:void 0;t.forEachFeatureAtPixel(e,(e,t,i)=>{i&&"Point"===i.getType()&&(i=new h.Z((0,S.lO)(i.getCoordinates(),o)));let r=i||e.getGeometry();if(e instanceof l.Z&&this.features_.getArray().includes(e)){n=r;let t=e.getGeometry().getFlatCoordinates().slice(0,2);s=[{feature:e,geometry:n,segment:[t,t]}]}return!0},{layerFilter:i})}if(!s){let e=(0,S.dY)((0,f.HK)(r,C),o),i=t.getView().getResolution()*this.pixelTolerance_,n=(0,S.Fj)((0,f.f3)(e,i,C),o);s=this.rBush_.getInExtent(n)}if(s&&s.length>0){let i=s.sort(function(e,t){return L(r,e,o)-L(r,t,o)})[0],l=i.segment,a=b(r,i,o),h=t.getPixelFromCoordinate(a),d=(0,y.TE)(e,h);if(n||d<=this.pixelTolerance_){let e={};if(e[(0,F.sq)(l)]=!0,this.snapToPointer_||(this.delta_[0]=a[0]-r[0],this.delta_[1]=a[1]-r[1]),"Circle"===i.geometry.getType()&&1===i.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(a,[i.feature],[i.geometry]);else{let n=t.getPixelFromCoordinate(l[0]),r=t.getPixelFromCoordinate(l[1]),o=(0,y.bI)(h,n),u=(0,y.bI)(h,r);d=Math.sqrt(Math.min(o,u)),this.snappedToVertex_=d<=this.pixelTolerance_,this.snappedToVertex_&&(a=o>u?l[1]:l[0]),this.createOrUpdateVertexFeature_(a,[i.feature],[i.geometry]);let g={};g[(0,F.sq)(i.geometry)]=!0;for(let t=1,i=s.length;t<i;++t){let i=s[t].segment;if((0,y.fS)(l[0],i[0])&&(0,y.fS)(l[1],i[1])||(0,y.fS)(l[0],i[1])&&(0,y.fS)(l[1],i[0])){let n=(0,F.sq)(s[t].geometry);n in g||(g[n]=!0,e[(0,F.sq)(i)]=!0)}else break}}this.vertexSegments_=e;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(e,t){let i;let s=e.segment,n=e.feature,r=e.geometry,o=e.depth,l=e.index;for(;t.length<r.getStride();)t.push(0);switch(r.getType()){case"MultiLineString":case"Polygon":(i=r.getCoordinates())[o[0]].splice(l+1,0,t);break;case"MultiPolygon":(i=r.getCoordinates())[o[1]][o[0]].splice(l+1,0,t);break;case"LineString":(i=r.getCoordinates()).splice(l+1,0,t);break;default:return}this.setGeometryCoordinates_(r,i);let a=this.rBush_;a.remove(e),this.updateSegmentIndices_(r,l,o,1);let h={segment:[s[0],t],feature:n,geometry:r,depth:o,index:l};a.insert((0,f.hI)(h.segment),h),this.dragSegments_.push([h,1]);let d={segment:[t,s[1]],feature:n,geometry:r,depth:o,index:l+1};a.insert((0,f.hI)(d.segment),d),this.dragSegments_.push([d,0]),this.ignoreNextSingleClick_=!0}removePoint(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=a.Z.POINTERDRAG){let e=this.lastPointerEvent_;this.willModifyFeatures_(e,this.dragSegments_);let t=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new M(P.MODIFYEND,this.featuresBeingModified_,e)),this.featuresBeingModified_=null,t}return!1}removeVertex_(){let e,t,i,s,n,r,o,l,a,h,d;let u=this.dragSegments_,g={},_=!1;for(n=u.length-1;n>=0;--n)h=(i=u[n])[0],d=(0,F.sq)(h.feature),h.depth&&(d+="-"+h.depth.join("-")),d in g||(g[d]={}),0===i[1]?(g[d].right=h,g[d].index=h.index):1==i[1]&&(g[d].left=h,g[d].index=h.index+1);for(d in g){switch(a=g[d].right,o=g[d].left,(l=(r=g[d].index)-1)<0&&(l=0),e=t=(s=(h=void 0!==o?o:a).geometry).getCoordinates(),_=!1,s.getType()){case"MultiLineString":t[h.depth[0]].length>2&&(t[h.depth[0]].splice(r,1),_=!0);break;case"LineString":t.length>2&&(t.splice(r,1),_=!0);break;case"MultiPolygon":e=e[h.depth[1]];case"Polygon":(e=e[h.depth[0]]).length>4&&(r==e.length-1&&(r=0),e.splice(r,1),_=!0,0===r&&(e.pop(),e.push(e[0]),l=e.length-1))}if(_){this.setGeometryCoordinates_(s,t);let e=[];if(void 0!==o&&(this.rBush_.remove(o),e.push(o.segment[0])),void 0!==a&&(this.rBush_.remove(a),e.push(a.segment[1])),void 0!==o&&void 0!==a){let t={depth:h.depth,feature:h.feature,geometry:h.geometry,index:l,segment:e};this.rBush_.insert((0,f.hI)(t.segment),t)}this.updateSegmentIndices_(s,r,h.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),u.length=0}}return _}setGeometryCoordinates_(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1}updateSegmentIndices_(e,t,i,s){this.rBush_.forEachInExtent(e.getExtent(),function(n){n.geometry===e&&(void 0===i||void 0===n.depth||(0,v.fS)(n.depth,i))&&n.index>t&&(n.index+=s)})}}function w(e,t){return e.index-t.index}function L(e,t,i){let s=t.geometry;if("Circle"===s.getType()){let n=s;if(1===t.index){let t=(0,S.Cs)();t&&(n=n.clone().transform(t,i));let s=Math.sqrt((0,y.bI)(n.getCenter(),(0,S.Vs)(e,i)))-n.getRadius();return s*s}}let n=(0,S.Vs)(e,i);return E[0]=(0,S.Vs)(t.segment[0],i),E[1]=(0,S.Vs)(t.segment[1],i),(0,y.Bs)(n,E)}function b(e,t,i){let s=t.geometry;if("Circle"===s.getType()&&1===t.index){let t=s,n=(0,S.Cs)();return n&&(t=t.clone().transform(n,i)),(0,S.lO)(t.getClosestPoint((0,S.Vs)(e,i)),i)}let n=(0,S.Vs)(e,i);return E[0]=(0,S.Vs)(t.segment[0],i),E[1]=(0,S.Vs)(t.segment[1],i),(0,S.lO)((0,y.oL)(n,E),i)}let A=T},"./node_modules/ol/interaction/Select.js":(e,t,i)=>{i.d(t,{Z:()=>v});var s=i("./node_modules/ol/Collection.js"),n=i("./node_modules/ol/CollectionEventType.js"),r=i("./node_modules/ol/events/Event.js"),o=i("./node_modules/ol/Feature.js"),l=i("./node_modules/ol/interaction/Interaction.js"),a=i("./node_modules/ol/layer/Vector.js"),h=i("./node_modules/ol/functions.js"),d=i("./node_modules/ol/obj.js"),u=i("./node_modules/ol/style/Style.js"),g=i("./node_modules/ol/array.js"),_=i("./node_modules/ol/util.js"),c=i("./node_modules/ol/events/condition.js");let m={SELECT:"select"};class f extends r.ZP{constructor(e,t,i,s){super(e),this.selected=t,this.deselected=i,this.mapBrowserEvent=s}}let y={};class p extends l.ZP{constructor(e){let t;if(super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:c.Kf,this.addCondition_=e.addCondition?e.addCondition:c.Fi,this.removeCondition_=e.removeCondition?e.removeCondition:c.Fi,this.toggleCondition_=e.toggleCondition?e.toggleCondition:c.vY,this.multi_=!!e.multi&&e.multi,this.filter_=e.filter?e.filter:h.uX,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=void 0!==e.style?e.style:function(){let e=(0,u.Ly)();return(0,g.l7)(e.Polygon,e.LineString),(0,g.l7)(e.GeometryCollection,e.LineString),function(t){return t.getGeometry()?e[t.getGeometry().getType()]:null}}(),this.features_=e.features||new s.Z,e.layers){if("function"==typeof e.layers)t=e.layers;else{let i=e.layers;t=function(e){return i.includes(e)}}}else t=h.uX;this.layerFilter_=t,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,t){this.featureLayerAssociation_[(0,_.sq)(e)]=t}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[(0,_.sq)(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(n.Z.ADD,this.boundAddFeature_),this.features_.addEventListener(n.Z.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(n.Z.ADD,this.boundAddFeature_),this.features_.removeEventListener(n.Z.REMOVE,this.boundRemoveFeature_))}addFeature_(e){let t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){let e=this.getMap().getAllLayers().find(function(e){if(e instanceof a.Z&&e.getSource()&&e.getSource().hasFeature(t))return e});e&&this.addFeatureLayerAssociation_(t,e)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){let t=(0,_.sq)(e);t in y||(y[t]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){let t=this.getMap().getInteractions().getArray();for(let i=t.length-1;i>=0;--i){let s=t[i];if(s!==this&&s instanceof p&&s.getStyle()&&-1!==s.getFeatures().getArray().lastIndexOf(e)){e.setStyle(s.getStyle());return}}let i=(0,_.sq)(e);e.setStyle(y[i]),delete y[i]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[_.sq(e)]}handleEvent(e){if(!this.condition_(e))return!0;let t=this.addCondition_(e),i=this.removeCondition_(e),s=this.toggleCondition_(e),n=e.map,r=this.getFeatures(),l=[],a=[];if(t||i||s){n.forEachFeatureAtPixel(e.pixel,(e,n)=>{if(e instanceof o.Z&&this.filter_(e,n))return(t||s)&&!r.getArray().includes(e)?(this.addFeatureLayerAssociation_(e,n),a.push(e)):(i||s)&&r.getArray().includes(e)&&(l.push(e),this.removeFeatureLayerAssociation_(e)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let e=l.length-1;e>=0;--e)r.remove(l[e]);r.extend(a)}else{(0,d.Z)(this.featureLayerAssociation_),n.forEachFeatureAtPixel(e.pixel,(e,t)=>{if(e instanceof o.Z&&this.filter_(e,t))return this.addFeatureLayerAssociation_(e,t),a.push(e),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let e=r.getLength()-1;e>=0;--e){let t=r.item(e),i=a.indexOf(t);i>-1?a.splice(i,1):(r.remove(t),l.push(t))}0!==a.length&&r.extend(a)}return(a.length>0||l.length>0)&&this.dispatchEvent(new f(m.SELECT,a,l,e)),!0}}let v=p}}]);