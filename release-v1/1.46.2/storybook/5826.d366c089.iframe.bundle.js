"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[5826],{"../../node_modules/vidstack/prod/chunks/vidstack-DiirHtXs.js":(t,s,i)=>{i.d(s,{MediaPosterElement:()=>r});var e=i("../../node_modules/vidstack/prod/chunks/vidstack-CRlI3Mh7.js"),n=i("../../node_modules/vidstack/prod/chunks/vidstack-Cpte_fRf.js"),a=i("../../node_modules/vidstack/prod/chunks/vidstack-vDnjyKV8.js");class h extends e.uA{static props={src:null,alt:null,crossOrigin:null};static state=new e.Uw({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1});#t;onSetup(){this.#t=(0,n.$c)(),this.#s(),this.#i(),this.#e(),this.#n()}onAttach(t){t.style.setProperty("pointer-events","none"),(0,e.QZ)(this.#a.bind(this)),(0,e.QZ)(this.#s.bind(this)),(0,e.QZ)(this.#i.bind(this)),(0,e.QZ)(this.#e.bind(this)),(0,e.QZ)(this.#n.bind(this));let{started:s}=this.#t.$state;this.setAttributes({"data-visible":()=>!s()&&!this.$state.hidden(),"data-loading":this.#h.bind(this),"data-error":this.#r.bind(this),"data-hidden":this.$state.hidden})}onConnect(t){(0,e.QZ)(this.#o.bind(this)),(0,e.QZ)(this.#d.bind(this))}#r(){let{error:t}=this.$state;return!(0,e.kZ)(t())}#o(){let{canLoadPoster:t,poster:s}=this.#t.$state;!t()&&s()&&(0,a.kZ)(s(),"preconnect")}#n(){let{src:t}=this.$props,{poster:s,nativeControls:i}=this.#t.$state;this.el&&(0,e.Bq)(this.el,"display",i()?"none":null),this.$state.hidden.set(this.#r()||!(t()||s())||i())}#h(){let{loading:t,hidden:s}=this.$state;return!s()&&t()}#a(){let t=this.$state.img();t&&(new e.En(t).add("load",this.#l.bind(this)).add("error",this.#c.bind(this)),t.complete&&this.#l())}#m="";#s(){let{poster:t}=this.#t.$props,{canLoadPoster:s,providedPoster:i,inferredPoster:e}=this.#t.$state,n=this.$props.src()||"",a=n||t()||e();this.#m===i()&&i.set(n),this.$state.src.set(s()&&a.length?a:null),this.#m=n}#i(){let{src:t}=this.$props,{alt:s}=this.$state,{poster:i}=this.#t.$state;s.set(t()||i()?this.$props.alt():null)}#e(){let{crossOrigin:t}=this.$props,{crossOrigin:s}=this.$state,{crossOrigin:i,poster:e}=this.#t.$state,n=null!==t()?t():i();s.set(/ytimg\.com|vimeo/.test(e()||"")?null:!0===n?"anonymous":n)}#d(){let{loading:t,error:s}=this.$state,{canLoadPoster:i,poster:e}=this.#t.$state;t.set(i()&&!!e()),s.set(null)}#l(){let{loading:t,error:s}=this.$state;t.set(!1),s.set(null)}#c(t){let{loading:s,error:i}=this.$state;s.set(!1),i.set(t)}}class r extends(0,e.xr)(HTMLElement,h){static tagName="media-poster";static attrs={crossOrigin:"crossorigin"};#p=document.createElement("img");onSetup(){this.$state.img.set(this.#p)}onConnect(){let{src:t,alt:s,crossOrigin:i}=this.$state;(0,e.QZ)(()=>{let{loading:t,hidden:s}=this.$state;this.#p.style.display=t()||s()?"none":""}),(0,e.QZ)(()=>{(0,e.Bq)(this.#p,"alt",s()),(0,e.Bq)(this.#p,"crossorigin",i()),(0,e.Bq)(this.#p,"src",t())}),this.#p.parentNode!==this&&this.prepend(this.#p)}}}}]);