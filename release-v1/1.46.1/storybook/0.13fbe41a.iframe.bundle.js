"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[0],{"../../node_modules/ol/interaction/Draw.js":(t,e,i)=>{i.d(e,{Ay:()=>b});var s=i("../../node_modules/ol/geom/SimpleGeometry.js"),o=i("../../node_modules/ol/extent.js"),n=i("../../node_modules/ol/geom/flat/deflate.js"),r=i("../../node_modules/ol/geom/flat/transform.js");class h extends s.Ay{constructor(t,e,i){super(),void 0!==i&&void 0===e?this.setFlatCoordinates(i,t):(e=e||0,this.setCenterAndRadius(t,e,i))}clone(){let t=new h(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,s){let o=this.flatCoordinates,n=t-o[0],r=e-o[1],h=n*n+r*r;if(h<s){if(0===h)for(let t=0;t<this.stride;++t)i[t]=o[t];else{let t=this.getRadius()/Math.sqrt(h);i[0]=o[0]+t*n,i[1]=o[1]+t*r;for(let t=2;t<this.stride;++t)i[t]=o[t]}return i.length=this.stride,h}return s}containsXY(t,e){let i=this.flatCoordinates,s=t-i[0],o=e-i[1];return s*s+o*o<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(t){let e=this.flatCoordinates,i=e[this.stride]-e[0];return(0,o.N)(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){let t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e}getType(){return"Circle"}intersectsExtent(t){let e=this.getExtent();if((0,o.HY)(t,e)){let e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||(0,o.sB)(t,this.intersectsCoordinate.bind(this))}return!1}setCenter(t){let e=this.stride,i=this.flatCoordinates[e]-this.flatCoordinates[0],s=t.slice();s[e]=s[0]+i;for(let i=1;i<e;++i)s[e+i]=t[i];this.setFlatCoordinates(this.layout,s),this.changed()}setCenterAndRadius(t,e,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]);let s=this.flatCoordinates,o=(0,n._n)(s,0,t,this.stride);s[o++]=s[0]+e;for(let t=1,e=this.stride;t<e;++t)s[o++]=s[t];s.length=o,this.changed()}getCoordinates(){return null}setCoordinates(t,e){}setRadius(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()}rotate(t,e){let i=this.getCenter(),s=this.getStride();this.setCenter((0,r.e$)(i,0,i.length,s,t,e,i)),this.changed()}}h.prototype.transform;var a=i("../../node_modules/ol/events/Event.js"),d=i("../../node_modules/ol/events/EventType.js"),l=i("../../node_modules/ol/Feature.js"),c=i("../../node_modules/ol/geom/GeometryCollection.js"),_=i("../../node_modules/ol/interaction/Property.js"),u=i("../../node_modules/ol/geom/LineString.js"),g=i("../../node_modules/ol/MapBrowserEvent.js"),f=i("../../node_modules/ol/MapBrowserEventType.js"),m=i("../../node_modules/ol/geom/MultiLineString.js"),C=i("../../node_modules/ol/geom/MultiPoint.js"),p=i("../../node_modules/ol/geom/MultiPolygon.js"),y=i("../../node_modules/ol/geom/Point.js"),k=i("../../node_modules/ol/interaction/Pointer.js"),P=i("../../node_modules/ol/geom/Polygon.js"),x=i("../../node_modules/ol/layer/Vector.js"),T=i("../../node_modules/ol/source/Vector.js"),w=i("../../node_modules/ol/functions.js"),v=i("../../node_modules/ol/events/condition.js"),D=i("../../node_modules/ol/math.js"),A=i("../../node_modules/ol/style/Style.js"),I=i("../../node_modules/ol/coordinate.js"),S=i("../../node_modules/ol/proj.js");let L={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"};class F extends a.Ay{constructor(t,e){super(t),this.feature=e}}function M(t,e){return(0,D.hG)(t[0],t[1],e[0],e[1])}function E(t,e){let i=t.length;return e<0?t[e+i]:e>=i?t[e-i]:t[e]}function R(t,e,i){let s,o;e<i?(s=e,o=i):(s=i,o=e);let n=Math.ceil(s),r=Math.floor(o);if(n>r)return M(q(t,s),q(t,o));let h=0;s<n&&(h+=M(q(t,s),E(t,n))),r<o&&(h+=M(E(t,r),q(t,o)));for(let e=n;e<r-1;++e)h+=M(E(t,e),E(t,e+1));return h}let j={index:-1,endIndex:NaN};function G(t,e,i,s){let o=t[0],n=t[1];for(let t=0,r=e.length-1;t<r;++t){let r=O(o,n,e[t],e[t+1]);if(0===r.squaredDistance){let o=t+r.along;s.push({coordinates:e,ring:i,startIndex:o,endIndex:o});return}}}let N={along:0,squaredDistance:0};function O(t,e,i,s){let o=i[0],n=i[1],r=s[0],h=s[1],a=r-o,d=h-n,l=0,c=o,_=n;return(0!==a||0!==d)&&(l=(0,D.qE)(((t-o)*a+(e-n)*d)/(a*a+d*d),0,1),c+=a*l,_+=d*l),N.along=l,N.squaredDistance=(0,D.Mg)((0,D.hG)(t,e,c,_),10),N}function q(t,e){let i=t.length,s=Math.floor(e),o=e-s;s>=i?s-=i:s<0&&(s+=i);let n=s+1;n>=i&&(n-=i);let r=t[s],h=r[0],a=r[1],d=t[n],l=d[0]-h,c=d[1]-a;return[h+l*o,a+c*o]}class V extends k.A{constructor(t){t.stopDown||(t.stopDown=w.W8),super(t),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=t.source?t.source:null,this.features_=t.features?t.features:null,this.snapTolerance_=t.snapTolerance?t.snapTolerance:12,this.type_=t.type,this.mode_=function(t){switch(t){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw Error("Invalid type: "+t)}}(this.type_),this.stopClick_=!!t.stopClick,this.minPoints_=t.minPoints?t.minPoints:"Polygon"===this.mode_?3:2,this.maxPoints_="Circle"===this.mode_?2:t.maxPoints?t.maxPoints:1/0,this.finishCondition_=t.finishCondition?t.finishCondition:w.rT,this.geometryLayout_=t.geometryLayout?t.geometryLayout:"XY";let e=t.geometryFunction;if(!e){let t=this.mode_;if("Circle"===t)e=function(t,e,i){let s=e||new h([NaN,NaN]),o=(0,S.Ad)(t[0],i),n=(0,I.hG)(o,(0,S.Ad)(t[t.length-1],i));s.setCenterAndRadius(o,Math.sqrt(n),this.geometryLayout_);let r=(0,S.Tf)();return r&&s.transform(i,r),s};else{let i;"Point"===t?i=y.A:"LineString"===t?i=u.A:"Polygon"===t&&(i=P.Ay),e=function(e,s,o){return s?"Polygon"===t?e[0].length?s.setCoordinates([e[0].concat([e[0][0]])],this.geometryLayout_):s.setCoordinates([],this.geometryLayout_):s.setCoordinates(e,this.geometryLayout_):s=new i(e,this.geometryLayout_),s}}}this.geometryFunction_=e,this.dragVertexDelay_=void 0!==t.dragVertexDelay?t.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.overlay_=new x.A({source:new T.A({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:function(){let t=(0,A.mY)();return function(e,i){return t[e.getGeometry().getType()]}}(),updateWhileInteracting:!0}),this.geometryName_=t.geometryName,this.condition_=t.condition?t.condition:v.TS,this.freehandCondition_,t.freehand?this.freehandCondition_=v.Gk:this.freehandCondition_=t.freehandCondition?t.freehandCondition:v.Kg,this.traceCondition_,this.setTrace(t.trace||!1),this.traceState_={active:!1},this.traceSource_=t.traceSource||t.source||null,this.addChangeListener(_.A.ACTIVE,this.updateState_)}setTrace(t){let e;e=t?!0===t?v.Gk:t:v.Zm,this.traceCondition_=e}setMap(t){super.setMap(t),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(t){t.originalEvent.type===d.A.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(t);let e=t.type===f.A.POINTERMOVE,i=!0;return!this.freehand_&&this.lastDragTime_&&t.type===f.A.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,e=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&t.type===f.A.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(t.coordinate),i=!1):this.freehand_&&t.type===f.A.POINTERDOWN?i=!1:e&&2>this.getPointerCount()?(i=t.type===f.A.POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):("mouse"===t.originalEvent.pointerType||t.type===f.A.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(t):t.type===f.A.DBLCLICK&&(i=!1),super.handleEvent(t)&&i}handleDownEvent(t){return(this.shouldHandle_=!this.freehand_,this.freehand_)?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new g.A(f.A.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))},this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(t){if(!this.traceSource_||!this.traceCondition_(t))return;if(this.traceState_.active){this.deactivateTrace_();return}let e=this.getMap(),i=e.getCoordinateFromPixel([t.pixel[0]-this.snapTolerance_,t.pixel[1]+this.snapTolerance_]),s=e.getCoordinateFromPixel([t.pixel[0]+this.snapTolerance_,t.pixel[1]-this.snapTolerance_]),n=(0,o.Tr)([i,s]),r=this.traceSource_.getFeaturesInExtent(n);if(0===r.length)return;let h=function(t,e){let i=[];for(let s=0;s<e.length;++s)!function t(e,i,s){if(i instanceof u.A){G(e,i.getCoordinates(),!1,s);return}if(i instanceof m.A){let t=i.getCoordinates();for(let i=0,o=t.length;i<o;++i)G(e,t[i],!1,s);return}if(i instanceof P.Ay){let t=i.getCoordinates();for(let i=0,o=t.length;i<o;++i)G(e,t[i],!0,s);return}if(i instanceof p.A){let t=i.getCoordinates();for(let i=0,o=t.length;i<o;++i){let o=t[i];for(let t=0,i=o.length;t<i;++t)G(e,o[t],!0,s)}return}if(i instanceof c.A){let o=i.getGeometries();for(let i=0;i<o.length;++i)t(e,o[i],s);return}}(t,e[s].getGeometry(),i);return i}(t.coordinate,r);h.length&&(this.traceState_={active:!0,startPx:t.pixel.slice(),targets:h,targetIndex:-1})}addOrRemoveTracedCoordinates_(t,e){let i=t.startIndex<=t.endIndex;i===t.startIndex<=e?i&&e>t.endIndex||!i&&e<t.endIndex?this.addTracedCoordinates_(t,t.endIndex,e):(i&&e<t.endIndex||!i&&e>t.endIndex)&&this.removeTracedCoordinates_(e,t.endIndex):(this.removeTracedCoordinates_(t.startIndex,t.endIndex),this.addTracedCoordinates_(t,t.startIndex,e))}removeTracedCoordinates_(t,e){if(t===e)return;let i=0;if(t<e){let s=Math.floor(e);s===e&&(s-=1),i=s-Math.ceil(t)+1}else{let s=Math.ceil(e);s===e&&(s+=1),i=Math.floor(t)-s+1}i>0&&this.removeLastPoints_(i)}addTracedCoordinates_(t,e,i){if(e===i)return;let s=[];if(e<i){let o=Math.ceil(e),n=Math.floor(i);n===i&&(n-=1);for(let e=o;e<=n;++e)s.push(E(t.coordinates,e))}else{let o=Math.floor(e),n=Math.ceil(i);n===i&&(n+=1);for(let e=o;e>=n;--e)s.push(E(t.coordinates,e))}s.length&&this.appendCoordinates(s)}updateTrace_(t){let e=this.traceState_;if(!e.active||-1===e.targetIndex&&(0,I.Io)(e.startPx,t.pixel)<this.snapTolerance_)return;let i=function(t,e,i,s){let o=t[0],n=t[1],r=1/0,h=-1,a=NaN;for(let t=0;t<e.targets.length;++t){let i;let s=e.targets[t],d=s.coordinates,l=1/0;for(let t=0;t<d.length-1;++t){let e=O(o,n,d[t],d[t+1]);e.squaredDistance<l&&(l=e.squaredDistance,i=t+e.along)}l<r&&(r=l,s.ring&&e.targetIndex===t&&(s.endIndex>s.startIndex?i<s.startIndex&&(i+=d.length):s.endIndex<s.startIndex&&i>s.startIndex&&(i-=d.length)),a=i,h=t)}let d=e.targets[h],l=d.ring;if(e.targetIndex===h&&l){let t=q(d.coordinates,a),o=i.getPixelFromCoordinate(t);(0,I.Io)(o,e.startPx)>s&&(l=!1)}if(l){let t=d.coordinates,e=t.length,i=d.startIndex,s=a;if(i<s){let o=R(t,i,s);R(t,i,s-e)<o&&(a-=e)}else{let o=R(t,i,s);R(t,i,s+e)<o&&(a+=e)}}return j.index=h,j.endIndex=a,j}(t.coordinate,e,this.getMap(),this.snapTolerance_);if(e.targetIndex!==i.index){if(-1!==e.targetIndex){let t=e.targets[e.targetIndex];this.removeTracedCoordinates_(t.startIndex,t.endIndex)}let t=e.targets[i.index];this.addTracedCoordinates_(t,t.startIndex,i.endIndex)}else{let t=e.targets[e.targetIndex];this.addOrRemoveTracedCoordinates_(t,i.endIndex)}e.targetIndex=i.index;let s=e.targets[e.targetIndex];s.endIndex=i.endIndex;let o=q(s.coordinates,s.endIndex),n=this.getMap().getPixelFromCoordinate(o);t.coordinate=o,t.pixel=[Math.round(n[0]),Math.round(n[1])]}handleUpEvent(t){let e=!0;if(0===this.getPointerCount()){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);let i=this.traceState_.active;if(this.toggleTraceState_(t),this.shouldHandle_){let s=!this.finishCoordinate_;s&&this.startDrawing_(t.coordinate),!s&&this.freehand_?this.finishDrawing():this.freehand_||s&&"Point"!==this.mode_||(this.atFinish_(t.pixel,i)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing()}return!e&&this.stopClick_&&t.preventDefault(),e}handlePointerMove_(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){let e=this.downPx_,i=t.pixel,s=e[0]-i[0],o=e[1]-i[1],n=s*s+o*o;if(this.shouldHandle_=this.freehand_?n>this.squaredClickTolerance_:n<=this.squaredClickTolerance_,!this.shouldHandle_)return}if(!this.finishCoordinate_){this.createOrUpdateSketchPoint_(t.coordinate.slice());return}this.updateTrace_(t),this.modifyDrawing_(t.coordinate)}atFinish_(t,e){let i=!1;if(this.sketchFeature_){let s=!1,o=[this.finishCoordinate_],n=this.mode_;if("Point"===n)i=!0;else if("Circle"===n)i=2===this.sketchCoords_.length;else if("LineString"===n)s=!e&&this.sketchCoords_.length>this.minPoints_;else if("Polygon"===n){let t=this.sketchCoords_;s=t[0].length>this.minPoints_,o=[t[0][0],t[0][t[0].length-2]],o=e?[t[0][0]]:[t[0][0],t[0][t[0].length-2]]}if(s){let e=this.getMap();for(let s=0,n=o.length;s<n;s++){let n=o[s],r=e.getPixelFromCoordinate(n),h=t[0]-r[0],a=t[1]-r[1];if(i=Math.sqrt(h*h+a*a)<=(this.freehand_?1:this.snapTolerance_)){this.finishCoordinate_=n;break}}}}return i}createOrUpdateSketchPoint_(t){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(t):(this.sketchPoint_=new l.A(new y.A(t)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(t){this.sketchLine_||(this.sketchLine_=new l.A);let e=t.getLinearRing(0),i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),i.changed()):(i=new u.A(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(i))}startDrawing_(t){let e=this.getMap().getView().getProjection(),i=(0,s.dn)(this.geometryLayout_);for(;t.length<i;)t.push(0);this.finishCoordinate_=t,"Point"===this.mode_?this.sketchCoords_=t.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new l.A(new u.A(this.sketchLineCoords_)));let o=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new l.A,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(o),this.updateSketchFeatures_(),this.dispatchEvent(new F(L.DRAWSTART,this.sketchFeature_))}modifyDrawing_(t){let e,i;let o=this.getMap(),n=this.sketchFeature_.getGeometry(),r=o.getView().getProjection(),h=(0,s.dn)(this.geometryLayout_);for(;t.length<h;)t.push(0);"Point"===this.mode_?i=this.sketchCoords_:"Polygon"===this.mode_?(i=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(o.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):i=(e=this.sketchCoords_)[e.length-1],i[0]=t[0],i[1]=t[1],this.geometryFunction_(this.sketchCoords_,n,r),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(t),"Polygon"===n.getType()&&"Polygon"!==this.mode_?this.createOrUpdateCustomSketchLine_(n):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(t){let e,i;let s=this.sketchFeature_.getGeometry(),o=this.getMap().getView().getProjection(),n=this.mode_;"LineString"===n||"Circle"===n?(this.finishCoordinate_=t.slice(),(i=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(t.slice()),this.geometryFunction_(i,s,o)):"Polygon"===n&&((i=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(t.slice()),e&&(this.finishCoordinate_=i[0]),this.geometryFunction_(this.sketchCoords_,s,o)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),e&&this.finishDrawing()}removeLastPoints_(t){if(!this.sketchFeature_)return;let e=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),s=this.mode_;for(let o=0;o<t;++o){let t;if("LineString"===s||"Circle"===s){if((t=this.sketchCoords_).splice(-2,1),t.length>=2){this.finishCoordinate_=t[t.length-2].slice();let e=this.finishCoordinate_.slice();t[t.length-1]=e,this.createOrUpdateSketchPoint_(e)}this.geometryFunction_(t,e,i),"Polygon"===e.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if("Polygon"===s){(t=this.sketchCoords_[0]).splice(-2,1);let s=this.sketchLine_.getGeometry();if(t.length>=2){let e=t[t.length-2].slice();t[t.length-1]=e,this.createOrUpdateSketchPoint_(e)}s.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,i)}if(1===t.length){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){let t=this.abortDrawing_();if(!t)return;let e=this.sketchCoords_,i=t.getGeometry(),s=this.getMap().getView().getProjection();"LineString"===this.mode_?(e.pop(),this.geometryFunction_(e,i,s)):"Polygon"===this.mode_&&(e[0].pop(),this.geometryFunction_(e,i,s),e=i.getCoordinates()),"MultiPoint"===this.type_?t.setGeometry(new C.A([e])):"MultiLineString"===this.type_?t.setGeometry(new m.A([e])):"MultiPolygon"===this.type_&&t.setGeometry(new p.A([e])),this.dispatchEvent(new F(L.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}abortDrawing_(){this.finishCoordinate_=null;let t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),t}abortDrawing(){let t=this.abortDrawing_();t&&this.dispatchEvent(new F(L.DRAWABORT,t))}appendCoordinates(t){let e;let i=this.mode_,s=!this.sketchFeature_;if(s&&this.startDrawing_(t[0]),"LineString"===i||"Circle"===i)e=this.sketchCoords_;else{if("Polygon"!==i)return;e=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}s&&e.shift(),e.pop();for(let e=0;e<t.length;e++)this.addToDrawing_(t[e]);let o=t[t.length-1];this.addToDrawing_(o),this.modifyDrawing_(o)}extend(t){let e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();let i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new l.A(new y.A(i)),this.updateSketchFeatures_(),this.dispatchEvent(new F(L.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){let t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);let e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)}updateState_(){let t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)}}let b=V}}]);