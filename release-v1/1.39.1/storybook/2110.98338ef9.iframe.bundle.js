"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[2110,2022],{"../../node_modules/vidstack/prod/chunks/vidstack-BSPPDWLF.js":(e,t,s)=>{s.d(t,{h:()=>a});var i=s("../../node_modules/vidstack/prod/chunks/vidstack-CRlI3Mh7.js"),r=s("../../node_modules/vidstack/prod/chunks/vidstack-vDnjyKV8.js");class a{#e;src=(0,i.O)("");referrerPolicy=null;get iframe(){return this.#e}constructor(e){this.#e=e,e.setAttribute("frameBorder","0"),e.setAttribute("aria-hidden","true"),e.setAttribute("allow","autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope"),null!==this.referrerPolicy&&e.setAttribute("referrerpolicy",this.referrerPolicy)}setup(){(0,i.k6)(window,"message",this.#t.bind(this)),(0,i.k6)(this.#e,"load",this.onLoad.bind(this)),(0,i.QZ)(this.#s.bind(this))}#s(){let e=this.src();if(!e.length){this.#e.setAttribute("src","");return}let t=(0,i.se)(()=>this.buildParams());this.#e.setAttribute("src",(0,r.xF)(e,t))}postMessage(e,t){this.#e.contentWindow?.postMessage(JSON.stringify(e),t??"*")}#t(e){let t=this.getOrigin();if((null===e.source||e.source===this.#e?.contentWindow)&&(!(0,i.Kg)(t)||t===e.origin)){try{let t=JSON.parse(e.data);t&&this.onMessage(t,e);return}catch(e){}e.data&&this.onMessage(e.data,e)}}}},"../../node_modules/vidstack/prod/chunks/vidstack-DSYpsFWk.js":(e,t,s)=>{s.d(t,{e:()=>r});var i=s("../../node_modules/vidstack/prod/chunks/vidstack-CRlI3Mh7.js");class r{#i;#r;constructor(e){this.#r=e}start(){(0,i.b0)(this.#i)&&this.#a()}stop(){(0,i.Et)(this.#i)&&window.cancelAnimationFrame(this.#i),this.#i=void 0}#a(){this.#i=window.requestAnimationFrame(()=>{(0,i.b0)(this.#i)||(this.#r(),this.#a())})}}},"../../node_modules/vidstack/prod/chunks/vidstack-krOAtKMi.js":(e,t,s)=>{s.d(t,{getVimeoVideoInfo:()=>n,resolveVimeoVideoId:()=>o});let i=/(?:https:\/\/)?(?:player\.)?vimeo(?:\.com)?\/(?:video\/)?(\d+)(?:(?:\?hash=|\?h=|\/)(.*))?/,r=new Map,a=new Map;function o(e){let t=e.match(i);return{videoId:t?.[1],hash:t?.[2]}}async function n(e,t,s){if(r.has(e))return r.get(e);if(a.has(e))return a.get(e);let i=`https://vimeo.com/api/oembed.json?url=https://player.vimeo.com/video/${e}`;s&&(i=i.concat(`?h=${s}`));let o=window.fetch(i,{mode:"cors",signal:t.signal}).then(e=>e.json()).then(t=>{let s=t?.thumbnail_url?.match(/vimeocdn.com\/video\/(.*)?_/)?.[1],i=s?`https://i.vimeocdn.com/video/${s}_1920x1080.webp`:"",a={title:t?.title??"",duration:t?.duration??0,poster:i,pro:"basic"!==t.account_type};return r.set(e,a),a}).finally(()=>a.delete(e));return a.set(e,o),o}},"../../node_modules/vidstack/prod/providers/vidstack-vimeo.js":(e,t,s)=>{s.r(t),s.d(t,{VimeoProvider:()=>p});var i=s("../../node_modules/vidstack/prod/chunks/vidstack-CRlI3Mh7.js"),r=s("../../node_modules/vidstack/prod/chunks/vidstack-B01xzxC4.js"),a=s("../../node_modules/vidstack/prod/chunks/vidstack-BmMUBVGQ.js"),o=s("../../node_modules/vidstack/prod/chunks/vidstack-B5628Ni3.js"),n=s("../../node_modules/vidstack/prod/chunks/vidstack-D5EzK014.js"),h=s("../../node_modules/vidstack/prod/chunks/vidstack-DSYpsFWk.js"),c=s("../../node_modules/vidstack/prod/chunks/vidstack-vDnjyKV8.js"),d=s("../../node_modules/vidstack/prod/chunks/vidstack-BSPPDWLF.js"),l=s("../../node_modules/vidstack/prod/chunks/vidstack-krOAtKMi.js");let u=["bufferend","bufferstart","durationchange","ended","enterpictureinpicture","error","fullscreenchange","leavepictureinpicture","loaded","playProgress","loadProgress","pause","play","playbackratechange","qualitychange","seeked","seeking","timeupdate","volumechange","waiting"];class p extends d.h{$$PROVIDER_TYPE="VIMEO";scope=(0,i.Ds)();fullscreen;#o;#n=(0,i.O)("");#h=(0,i.O)(!1);#c=null;#d=null;#l=!1;#u=new a.zJ(0,0);#p=new h.e(this.#m.bind(this));#k=null;#v=null;#g=new Map;#f=null;constructor(e,t){super(e),this.#o=t;let s=this;this.fullscreen={get active(){return s.#l},supported:!0,enter:()=>this.#y("requestFullscreen"),exit:()=>this.#y("exitFullscreen")}}cookies=!1;title=!0;byline=!0;portrait=!0;color="00ADEF";get type(){return"vimeo"}get currentSrc(){return this.#d}get videoId(){return this.#n()}get hash(){return this.#c}get isPro(){return this.#h()}preconnect(){(0,c.kZ)(this.getOrigin())}setup(){super.setup(),(0,i.QZ)(this.#b.bind(this)),(0,i.QZ)(this.#x.bind(this)),(0,i.QZ)(this.#w.bind(this)),this.#o.notify("provider-setup",this)}destroy(){for(let e of(this.#P(),this.fullscreen=void 0,this.#g.values()))for(let{reject:t}of e)t("provider destroyed");this.#g.clear(),this.#y("destroy")}async play(){return this.#y("play")}async pause(){return this.#y("pause")}setMuted(e){this.#y("setMuted",e)}setCurrentTime(e){this.#y("seekTo",e),this.#o.notify("seeking",e)}setVolume(e){this.#y("setVolume",e),this.#y("setMuted",(0,i.se)(this.#o.$state.muted))}setPlaybackRate(e){this.#y("setPlaybackRate",e)}async loadSource(e){if(!(0,i.Kg)(e.src)){this.#d=null,this.#c=null,this.#n.set("");return}let{videoId:t,hash:s}=(0,l.resolveVimeoVideoId)(e.src);this.#n.set(t??""),this.#c=s??null,this.#d=e}#b(){this.#P();let e=this.#n();if(!e){this.src.set("");return}this.src.set(`${this.getOrigin()}/video/${e}`),this.#o.notify("load-start")}#x(){let e=this.#n();if(!e)return;let t=(0,i.vI)(),s=new AbortController;return this.#f=t,(0,l.getVimeoVideoInfo)(e,s,this.#c).then(e=>{t.resolve(e)}).catch(e=>{t.reject()}),()=>{t.reject(),s.abort()}}#w(){let e=this.#h(),{$state:t,qualities:s}=this.#o;if(t.canSetPlaybackRate.set(e),s[n.j.setReadonly](!e),e)return(0,i.k6)(s,"change",()=>{if(s.auto)return;let e=s.selected?.id;e&&this.#y("setQuality",e)})}getOrigin(){return"https://player.vimeo.com"}buildParams(){let{keyDisabled:e}=this.#o.$props,{playsInline:t,nativeControls:s}=this.#o.$state,i=s();return{title:this.title,byline:this.byline,color:this.color,portrait:this.portrait,controls:i,h:this.hash,keyboard:i&&!e(),transparent:!0,playsinline:t(),dnt:!this.cookies}}#m(){this.#y("getCurrentTime")}#C=!1;#I(e,t){if(this.#C&&0===e)return;let{realCurrentTime:s,realDuration:i,paused:r,bufferedEnd:a}=this.#o.$state;if(s()===e)return;let o=s();this.#o.notify("time-change",e,t),Math.abs(o-e)>1.5&&(this.#o.notify("seeking",e,t),!r()&&a()<e&&this.#o.notify("waiting",void 0,t)),i()-e<.01&&(this.#o.notify("end",void 0,t),this.#C=!0,setTimeout(()=>{this.#C=!1},500))}#j(e,t){this.#o.notify("seeked",e,t)}#T(e){let t=this.#n();this.#f?.promise.then(t=>{if(!t)return;let{title:s,poster:i,duration:r,pro:a}=t;this.#h.set(a),this.#o.notify("title-change",s,e),this.#o.notify("poster-change",i,e),this.#o.notify("duration-change",r,e),this.#V(r,e)}).catch(()=>{t===this.#n()&&(this.#y("getVideoTitle"),this.#y("getDuration"))})}#V(e,t){let{nativeControls:s}=this.#o.$state,i=s();this.#u=new a.zJ(0,e);let r={buffered:new a.zJ(0,0),seekable:this.#u,duration:e};this.#o.delegate.ready(r,t),i||this.#y("_hideOverlay"),this.#y("getQualities"),this.#y("getChapters")}#M(e,t,s){switch(e){case"getVideoTitle":this.#o.notify("title-change",t,s);break;case"getDuration":this.#o.$state.canPlay()?this.#o.notify("duration-change",t,s):this.#V(t,s);break;case"getCurrentTime":this.#I(t,s);break;case"getBuffered":(0,i.cy)(t)&&t.length&&this.#R(t[t.length-1][1],s);break;case"setMuted":this.#A((0,i.se)(this.#o.$state.volume),t,s);break;case"getChapters":this.#_(t);break;case"getQualities":this.#S(t,s)}this.#$(e)?.resolve()}#F(){for(let e of u)this.#y("addEventListener",e)}#O(e){this.#p.stop(),this.#o.notify("pause",void 0,e)}#Q(e){this.#p.start(),this.#o.notify("play",void 0,e)}#B(e){let{paused:t}=this.#o.$state;t()||this.#C||this.#o.notify("playing",void 0,e)}#R(e,t){let s={buffered:new a.zJ(0,e),seekable:this.#u};this.#o.notify("progress",s,t)}#E(e){this.#o.notify("waiting",void 0,e)}#D(e){let{paused:t}=this.#o.$state;t()||this.#o.notify("playing",void 0,e)}#L(e){let{paused:t}=this.#o.$state;t()&&this.#o.notify("play",void 0,e),this.#o.notify("waiting",void 0,e)}#A(e,t,s){this.#o.notify("volume-change",{volume:e,muted:t},s)}#_(e){if(this.#q(),!e.length)return;let t=new o.to({kind:"chapters",default:!0}),{realDuration:s}=this.#o.$state;for(let i=0;i<e.length;i++){let r=e[i],a=e[i+1];t.addCue(new window.VTTCue(r.startTime,a?.startTime??s(),r.title))}this.#v=t,this.#o.textTracks.add(t)}#q(){this.#v&&(this.#o.textTracks.remove(this.#v),this.#v=null)}#S(e,t){for(let s of(this.#o.qualities[r.k.enableAuto]=e.some(e=>"auto"===e.id)?()=>this.#y("setQuality","auto"):void 0,e)){if("auto"===s.id)continue;let e=+s.id.slice(0,-1);isNaN(e)||this.#o.qualities[n.j.add]({id:s.id,width:16/9*e,height:e,codec:"avc1,h.264",bitrate:-1},t)}this.#W(e.find(e=>e.active),t)}#W({id:e}={},t){if(!e)return;let s="auto"===e,i=this.#o.qualities.getById(e);s?(this.#o.qualities[r.k.setAuto](s,t),this.#o.qualities[n.j.select](void 0,!0,t)):this.#o.qualities[n.j.select](i??void 0,!0,t)}#z(e,t,s){switch(e){case"ready":this.#F();break;case"loaded":this.#T(s);break;case"play":this.#Q(s);break;case"playProgress":this.#B(s);break;case"pause":this.#O(s);break;case"loadProgress":this.#R(t.seconds,s);break;case"waiting":this.#L(s);break;case"bufferstart":this.#E(s);break;case"bufferend":this.#D(s);break;case"volumechange":this.#A(t.volume,(0,i.se)(this.#o.$state.muted),s);break;case"durationchange":this.#u=new a.zJ(0,t.duration),this.#o.notify("duration-change",t.duration,s);break;case"playbackratechange":this.#o.notify("rate-change",t.playbackRate,s);break;case"qualitychange":this.#W(t,s);break;case"fullscreenchange":this.#l=t.fullscreen,this.#o.notify("fullscreen-change",t.fullscreen,s);break;case"enterpictureinpicture":this.#o.notify("picture-in-picture-change",!0,s);break;case"leavepictureinpicture":this.#o.notify("picture-in-picture-change",!1,s);break;case"ended":this.#o.notify("end",void 0,s);break;case"error":this.#J(t,s);break;case"seek":case"seeked":this.#j(t.seconds,s)}}#J(e,t){let{message:s,method:i}=e;"setPlaybackRate"===i&&this.#h.set(!1),i&&this.#$(i)?.reject(s)}onMessage(e,t){e.event?this.#z(e.event,e.data,t):e.method&&this.#M(e.method,e.value,t)}onLoad(){}async #y(e,t){let s=(0,i.vI)(),r=this.#g.get(e);return r||this.#g.set(e,r=[]),r.push(s),this.postMessage({method:e,value:t}),s.promise}#P(){this.#p.stop(),this.#u=new a.zJ(0,0),this.#f=null,this.#k=null,this.#h.set(!1),this.#q()}#$(e){return this.#g.get(e)?.shift()}}}}]);