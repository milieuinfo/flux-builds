"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[5357],{"../../node_modules/ol/layer/Image.js":(e,t,r)=>{r.d(t,{A:()=>c});var i=r("../../node_modules/ol/layer/Layer.js");class s extends i.A{constructor(e){super(e=e||{})}}let o=s;var a=r("../../node_modules/ol/renderer/canvas/Layer.js"),n=r("../../node_modules/ol/ImageState.js"),l=r("../../node_modules/ol/ViewHint.js"),h=r("../../node_modules/ol/transform.js"),u=r("../../node_modules/ol/extent.js"),d=r("../../node_modules/ol/proj.js");class g extends a.A{constructor(e){super(e),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(e){let t=e.layerStatesArray[e.layerIndex],r=e.pixelRatio,i=e.viewState,s=i.resolution,o=this.getLayer().getSource(),a=e.viewHints,h=e.extent;if(void 0!==t.extent&&(h=(0,u._N)(h,(0,d.SD)(t.extent,i.projection))),!a[l.A.ANIMATING]&&!a[l.A.INTERACTING]&&!(0,u.Im)(h)){if(o){let e=i.projection,t=o.getImage(h,s,r,e);t&&(this.loadImage(t)?this.image_=t:t.getState()===n.A.EMPTY&&(this.image_=null))}else this.image_=null}return!!this.image_}getData(e){let t=this.frameState;if(!t)return null;let r=this.getLayer(),i=(0,h.Bb)(t.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!(0,u.Ym)(s,i))return null;let o=this.image_.getExtent(),a=this.image_.getImage(),n=(0,u.RG)(o),l=Math.floor(a.width*((i[0]-o[0])/n));if(l<0||l>=a.width)return null;let d=(0,u.Oq)(o),g=Math.floor(a.height*((o[3]-i[1])/d));return g<0||g>=a.height?null:this.getImageData(a,l,g)}renderFrame(e,t){let r=this.image_,i=r.getExtent(),s=r.getResolution(),[o,a]=Array.isArray(s)?s:[s,s],n=r.getPixelRatio(),l=e.layerStatesArray[e.layerIndex],g=e.pixelRatio,m=e.viewState,c=m.center,p=m.resolution,_=e.extent,I=m.resolution,j=m.rotation,x=Math.round((0,u.RG)(_)/I*g),y=Math.round((0,u.Oq)(_)/I*g);(0,h.Zz)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/g,1/g,j,-x/2,-y/2),(0,h.T9)(this.inversePixelTransform,this.pixelTransform);let f=(0,h.dI)(this.pixelTransform);this.useContainer(t,f,this.getBackground(e));let v=this.context,A=v.canvas;A.width!=x||A.height!=y?(A.width=x,A.height=y):this.containerReused||v.clearRect(0,0,x,y);let T=!1,w=!0;if(l.extent){let t=(0,d.SD)(l.extent,m.projection);(T=(w=(0,u.HY)(t,e.extent))&&!(0,u.ms)(t,e.extent))&&this.clipUnrotated(v,e,t)}let L=r.getImage(),R=(0,h.Zz)(this.tempTransform,x/2,y/2,g*o/(p*n),g*a/(p*n),0,n*(i[0]-c[0])/o,n*(c[1]-i[3])/a);this.renderedResolution=a*g/n;let S=L.width*R[0],b=L.height*R[3];if(this.getLayer().getSource().getInterpolate()||(v.imageSmoothingEnabled=!1),this.preRender(v,e),w&&S>=.5&&b>=.5){let e;let t=R[4],r=R[5],i=l.opacity;1!==i&&(e=v.globalAlpha,v.globalAlpha=i),v.drawImage(L,0,0,+L.width,+L.height,t,r,S,b),1!==i&&(v.globalAlpha=e)}return this.postRender(v,e),T&&v.restore(),v.imageSmoothingEnabled=!0,f!==A.style.transform&&(A.style.transform=f),this.container}}class m extends o{constructor(e){super(e)}createRenderer(){return new g(this)}getData(e){return super.getData(e)}}let c=m},"../../node_modules/ol/source/ImageWMS.js":(e,t,r)=>{r.d(t,{A:()=>h});var i=r("../../node_modules/ol/source/Image.js"),s=r("../../node_modules/ol/reproj.js"),o=r("../../node_modules/ol/source/wms.js"),a=r("../../node_modules/ol/Image.js"),n=r("../../node_modules/ol/proj.js");class l extends i.Ay{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,this.url_=e.url,this.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:i.VV,this.params_=e.params,this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.renderedRevision_=0,this.ratio_=void 0!==e.ratio?e.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(e,t,r,i){let a=(0,n.Jt)(r),l=this.getProjection();l&&l!==a&&(t=(0,s.KQ)(l,a,e,t),e=(0,n.pd)(e,a,l));let h={url:this.url_,params:{...this.params_,...i},projection:l||a};return(0,o.y4)(h,e,t)}getLegendUrl(e,t){return(0,o.$q)({url:this.url_,params:{...this.params_,...t}},e)}getParams(){return this.params_}getImageInternal(e,t,r,i){return void 0===this.url_?null:(this.loader&&this.loaderProjection_===i||(this.loaderProjection_=i,this.loader=(0,o.Eq)({crossOrigin:this.crossOrigin_,params:this.params_,projection:i,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(e,t)=>(this.image.setImage(e),this.imageLoadFunction_(this.image,t),(0,a.D4)(e))})),super.getImageInternal(e,t,r,i))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(e){this.imageLoadFunction_=e,this.changed()}setUrl(e){e!=this.url_&&(this.url_=e,this.loader=null,this.changed())}updateParams(e){Object.assign(this.params_,e),this.changed()}changed(){this.image=null,super.changed()}}let h=l}}]);