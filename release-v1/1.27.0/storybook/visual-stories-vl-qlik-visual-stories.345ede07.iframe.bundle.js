(self.webpackChunkuigov_web_components=self.webpackChunkuigov_web_components||[]).push([[5581],{"./libs/qlik/src/visual/stories/vl-qlik-visual.stories.ts":(e,t,i)=>{"use strict";i.r(t),i.d(t,{QlikVisualDefault:()=>g,QlikVisualWithInteraction:()=>y,QlikVisualWithoutInteraction:()=>b,__namedExportsOrder:()=>f,default:()=>p});var n=i("./node_modules/lit-html/lit-html.js"),s=i("./libs/common/storybook/src/index.ts"),r=i("./node_modules/@domg/qlik-lib/build/release/index.js");let a={...s._O,type:"",qlikId:"",height:"",width:"",additionalStyle:"",properties:null,stardust:null,visualChanged:(0,s.lj)("changed")},l={...(0,s.Wp)(!0),type:{name:"type",description:"Het type visualisatie.",control:{type:s.Hy.SELECT},options:r.vK.map(e=>e.name),table:{type:{summary:s.vK.STRING},category:s.aA.ATTRIBUTES,defaultValue:{summary:a.type}}},qlikId:{name:"qlik-id",description:"Het object id van de visualisatie in Qlik.",table:{type:{summary:s.vK.STRING},category:s.aA.ATTRIBUTES,defaultValue:{summary:a.qlikId}}},height:{name:"height",description:"De hoogte van de visualisatie.",table:{type:{summary:s.vK.STRING},category:s.aA.ATTRIBUTES,defaultValue:{summary:a.height}}},width:{name:"width",description:"De breedte van de visualisatie.",table:{type:{summary:s.vK.STRING},category:s.aA.ATTRIBUTES,defaultValue:{summary:a.width}}},additionalStyle:{name:"additional-style",description:"Styling die meegegeven kan worden om op de div te zetten in de shadowroot waarin de visualisatie gerendered wordt.",table:{type:{summary:s.vK.STRING},category:s.aA.ATTRIBUTES,defaultValue:{summary:a.additionalStyle}}},properties:{name:"properties",description:'Properties die aan een visualisatie kunnen meegegeven worden. Zoals <code>{"dataPoint": {"bubbleScales": 50}}</code> voor distributionplot.',table:{type:{summary:"qlik.EngineAPI.IGenericObjectProperties"},category:s.aA.PROPERTIES,defaultValue:{summary:a.properties}}},stardust:{name:"stardust",description:"Het stardust.Embed object dat gebruikt wordt om de visualisatie te renderen.",table:{type:{summary:"stardust.Embed"},category:s.aA.PROPERTIES,defaultValue:{summary:a.stardust}}},visualChanged:{name:"visual-changed",description:"Afgevuurd wanneer de achterliggende visualisatie verandert, door interactie met de visuals.",table:{type:{summary:"-"},category:s.aA.EVENTS}}};var o=i("./node_modules/lit/directives/until.js");i("./libs/qlik/src/visual/vl-qlik-visual.component.ts"),i("./node_modules/react/index.js");var d=i("./node_modules/react/jsx-runtime.js"),c=i("./node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js"),u=i("./node_modules/@storybook/blocks/dist/index.mjs");function h(e){let t=Object.assign({h1:"h1",p:"p",h2:"h2",pre:"pre",code:"code",h3:"h3"},(0,c.ah)(),e.components);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t.h1,{id:"visual",children:"Visual"}),"\n",(0,d.jsxs)(t.p,{children:["Gebruik de ",(0,d.jsx)("code",{children:"vl-qlik-visual"})," component om een Qlik visual in een webpagina te renderen, zonder het gebruik van een iFrame."]}),"\n",(0,d.jsx)(t.h2,{id:"voorbeeld",children:"Voorbeeld"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-js",children:'import "@domg-wc/qlik/visual";\nimport {Qlik, STARDUST} from "@domg/qlik-lib";\n\nconst connection = new Qlik("omgevingsloketrapport.omgeving.vlaanderen.be", "594c04b6-f319-4cb9-962c-24b0f7aa6f5e");\nawait connection.init();\nthis.stardust = await STARDUST(connection.app);\n'})}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-html",children:'<vl-qlik-visual\n    qlik-id="RXjdD"\n    type="kpi"\n    height="200px"\n    width="200px"\n    .stardust="${stardust}"\n></vl-qlik-visual>\n'})}),"\n",(0,d.jsx)(u.Xz,{of:g}),"\n",(0,d.jsx)(t.h2,{id:"configuratie",children:"Configuratie"}),"\n",(0,d.jsx)(u.Ed,{of:g}),"\n",(0,d.jsx)(t.h2,{id:"types",children:"Types"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-ts",children:'export type Filter = {\n    id: string,\n    filter: FilterObj\n}\n\ntype FilterObj = {\n    name: string,\n    fieldQualifier: string,\n    field: string,\n    nrOfValues: number\n}\n\nexport type DashboardVisualization = {\n    type: string,\n    id: string,\n    height: string,\n    width?: string,\n    label: string,\n    "align-label"?: string,\n    "align-visual"?: string,\n    colSize?: number,\n    properties?: object,\n    options?: object\n}\n\nexport type InfoblockVisualization = {\n    title: string,\n    icon: string,\n    type: string,\n    id: string,\n    height: string,\n    width?: string,\n    align: string,\n    colSize?: number,\n    properties?: object\n    visuals?: InfoblockVisualization[][]\n}\n\nexport type Views = {\n    [key: string]: {\n        order: number\n        label: string,\n        visualisations: DashboardVisualization[][]\n    },\n}\n'})}),"\n",(0,d.jsx)(t.h2,{id:"varianten",children:"Varianten"}),"\n",(0,d.jsx)(t.h3,{id:"with-interaction",children:"With interaction"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-js",children:'import "@domg-wc/qlik/visual";\nimport {Qlik, STARDUST} from "@domg/qlik-lib";\n\nconst connection = new Qlik("omgevingsloketrapport.omgeving.vlaanderen.be", "594c04b6-f319-4cb9-962c-24b0f7aa6f5e");\nawait connection.init();\nthis.stardust = await STARDUST(connection.app);\n'})}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-html",children:'<vl-qlik-visual\n    qlik-id="fARUNP"\n    type="barchart"\n    height="200px"\n    width="200px"\n    .stardust="${stardust}"\n></vl-qlik-visual>\n'})}),"\n",(0,d.jsx)(u.Xz,{of:y}),"\n",(0,d.jsx)(t.h3,{id:"without-interaction",children:"Without interaction"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-js",children:'import "@domg-wc/qlik/visual";\nimport {Qlik, STARDUST} from "@domg/qlik-lib";\n\nconst connection = new Qlik("omgevingsloketrapport.omgeving.vlaanderen.be", "594c04b6-f319-4cb9-962c-24b0f7aa6f5e");\nawait connection.init();\nthis.stardust = await STARDUST(connection.app, null, {select: true});\n'})}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-html",children:'<vl-qlik-visual\n    qlik-id="fARUNP"\n    type="barchart"\n    height="200px"\n    width="200px"\n    .stardust="${stardust}"\n></vl-qlik-visual>\n'})}),"\n",(0,d.jsx)(u.Xz,{of:b})]})}let p={title:"qlik/qlik-visual",args:a,argTypes:l,tags:["autodocs"],parameters:{docs:{page:function(e={}){let{wrapper:t}=Object.assign({},(0,c.ah)(),e.components);return t?(0,d.jsx)(t,Object.assign({},e,{children:(0,d.jsx)(h,e)})):h(e)}}}};async function m({qlikId:e,type:t,height:i,width:s,selectConstraint:a}){let l=new r.Xg("omgevingsloketrapport.omgeving.vlaanderen.be","594c04b6-f319-4cb9-962c-24b0f7aa6f5e");await l.init();let o=await (0,r.To)(l.app,null,{select:a});return(0,n.dy)`
        <vl-qlik-visual qlik-id="${e}" type="${t}" height="${i}" width="${s}" .stardust="${o}">
        </vl-qlik-visual>
    `}let v=(e=!1)=>(0,s.yg)(a,t=>(0,n.dy)`${(0,o.C)(m({...t,selectConstraint:e}),(0,n.dy)` <vl-loader data-vl-text>Visualisatie aan het laden</vl-loader>`)}`),g=v().bind({});g.storyName="vl-qlik-visual - default",g.args={qlikId:"RXjdD",type:"kpi",height:"200px",width:"200px"};let y=v().bind({});y.storyName="vl-qlik-visual - with interaction",y.args={qlikId:"fARUNP",type:"barchart",height:"200px"};let b=v(!0).bind({});b.storyName="vl-qlik-visual - without interaction",b.args={qlikId:"fARUNP",type:"barchart",height:"200px"},g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:"Template().bind({})",...g.parameters?.docs?.source}}},y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:"Template().bind({})",...y.parameters?.docs?.source}}},b.parameters={...b.parameters,docs:{...b.parameters?.docs,source:{originalSource:"Template(true).bind({})",...b.parameters?.docs?.source}}};let f=["QlikVisualDefault","QlikVisualWithInteraction","QlikVisualWithoutInteraction"]},"./node_modules/lit-html/directive.js":(e,t,i)=>{"use strict";i.d(t,{XM:()=>s,Xe:()=>r,pX:()=>n});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var n={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},s=e=>function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return{_$litDirective$:e,values:i}};class r{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}},"./node_modules/lit/directives/until.js":(e,t,i)=>{"use strict";i.d(t,{C:()=>h});var n=i("./node_modules/lit-html/lit-html.js"),s=i("./node_modules/lit-html/directive-helpers.js"),r=i("./node_modules/lit-html/async-directive.js");class a{constructor(e){this.G=e}disconnect(){this.G=void 0}reconnect(e){this.G=e}deref(){return this.G}}class l{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){var e;null!==(e=this.Y)&&void 0!==e||(this.Y=new Promise(e=>this.Z=e))}resume(){var e;null!==(e=this.Z)&&void 0!==e&&e.call(this),this.Y=this.Z=void 0}}var o=i("./node_modules/lit-html/directive.js");function d(e,t,i,n,s,r,a){try{var l=e[r](a),o=l.value}catch(e){i(e);return}l.done?t(o):Promise.resolve(o).then(n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var c=e=>!(0,s.pt)(e)&&"function"==typeof e.then;class u extends r.sR{constructor(){super(...arguments),this._$C_t=1073741823,this._$Cwt=[],this._$Cq=new a(this),this._$CK=new l}render(){for(var e,t=arguments.length,i=Array(t),s=0;s<t;s++)i[s]=arguments[s];return null!==(e=i.find(e=>!c(e)))&&void 0!==e?e:n.Jb}update(e,t){var i,s=this,r=this._$Cwt,a=r.length;this._$Cwt=t;var l=this._$Cq,o=this._$CK;this.isConnected||this.disconnected();for(var u=0;u<t.length&&!(u>this._$C_t);u++)if(i=function(){var e=t[u];if(!c(e))return{v:(s._$C_t=u,e)};u<a&&e===r[u]||(s._$C_t=1073741823,a=0,Promise.resolve(e).then(function(){var t=function(e){return function(){var t=this,i=arguments;return new Promise(function(n,s){var r=e.apply(t,i);function a(e){d(r,n,s,a,l,"next",e)}function l(e){d(r,n,s,a,l,"throw",e)}a(void 0)})}}(function*(t){for(;o.get();)yield o.get();var i=l.deref();if(void 0!==i){var n=i._$Cwt.indexOf(e);n>-1&&n<i._$C_t&&(i._$C_t=n,i.setValue(t))}});return function(e){return t.apply(this,arguments)}}()))}())return i.v;return n.Jb}disconnected(){this._$Cq.disconnect(),this._$CK.pause()}reconnected(){this._$Cq.reconnect(this),this._$CK.resume()}}var h=(0,o.XM)(u)},"./node_modules/memoizerific sync recursive":e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id="./node_modules/memoizerific sync recursive",e.exports=t},"./libs/qlik/src/visual/vl-qlik-visual.component.ts":(e,t,i)=>{"use strict";i.d(t,{V:()=>a});var n=i("./node_modules/lit/index.js"),s=i("./libs/common/utilities/src/index.ts"),r=i("./libs/elements/src/index.ts");class a extends s.fS{static get styles(){return[r.CX]}static get properties(){return{type:{type:String,attribute:"type",reflect:!0},qlikId:{type:String,attribute:"qlik-id",reflect:!0},height:{type:String,attribute:"height",reflect:!0},width:{type:String,attribute:"width",reflect:!0},additionalStyle:{type:String,attribute:"additional-style",reflect:!0},properties:{type:Object},stardust:{type:Object}}}async updated(e){super.updated(e),this.visual&&this.visual.destroy(),this.visual=await this.stardust?.render({element:this.shadowRoot.getElementById(`visual-${this.qlikId}`),id:this.qlikId,type:this.type,properties:this.properties}),this.visual?.model.on("changed",(()=>{this.dispatchEvent(new CustomEvent("visual-changed"))}).bind(this)),"distributionplot"===this.type&&await this.visual?.__DO_NOT_USE__.applyProperties(this.properties)}render(){let e=(0,n.iv)`
            ${(0,n.$m)(`${this.additionalStyle};height: ${this.height};${this.width?`width: ${this.width}`:""}`)}
        `;return(0,n.dy)` <div id="visual-${this.qlikId}" style="${e}"></div> `}disconnectedCallback(){super.disconnectedCallback(),this.visual&&this.visual.destroy()}constructor(...e){super(...e),this.type="",this.qlikId="",this.height="",this.width="",this.additionalStyle=""}}a=function(e,t,i,n){var s,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(r<3?s(a):r>3?s(t,i,a):s(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a}([(0,s.a6)("vl-qlik-visual")],a)}}]);