"use strict";(self.webpackChunkuigov_web_components=self.webpackChunkuigov_web_components||[]).push([[7615],{"./libs/components/src/modal/vl-modal.component.ts":(e,t,o)=>{o.d(t,{M:()=>d});var i=o("./libs/common/utilities/src/index.ts"),n=o("./libs/elements/src/index.ts"),l=o("./node_modules/@domg/govflanders-style/common/index.js"),a=o("./node_modules/@domg/govflanders-style/component/index.js");o("./node_modules/@govflanders/vl-ui-core/dist/js/core.js"),o("./node_modules/@govflanders/vl-ui-util/dist/js/util.js"),o("./libs/components/src/modal/vl-modal.lib.js");var s=o("./node_modules/lit/index.js");let r=(0,s.iv)`
    :host([data-vl-allow-overflow]) dialog {
        overflow: visible;
    }
`,d=class extends(0,i.W$)(HTMLElement){static{(0,i.YV)([n._b,n.UG,n.CH,n.YY,n.Gi])}static get _observedAttributes(){return["id","title","closable","not-cancellable","open","not-auto-closable","allow-overflow"]}static get _closableAttribute(){return"data-vl-modal-closable"}static get _closeAttribute(){return"data-vl-modal-close"}constructor(){super(`
          <style>
            ${l.YN}
            ${a.It}
            ${r}
            ${l.PC}
            ${a._I}
            ${a.oQ}
            ${a.RP}
            ${l.R8}
          </style>
          <div class="vl-modal">
            <dialog class="vl-modal-dialog" data-vl-modal tabindex="-1" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="modal-toggle-title" aria-describedby="modal-toggle-description">
              <div is="vl-grid" data-vl-is-stacked>
                <div id="modal-toggle-description" is="vl-column" data-vl-size="12" data-vl-medium-size="12" class="vl-modal-dialog__content">
                  <slot name="content">Modal content</slot>
                </div>
                <div is="vl-column" data-vl-size="12" data-vl-medium-size="12">
                  <div id="modal-action-group" is="vl-action-group">
                    <slot name="button" data-vl-modal-close></slot>
                    <button is="vl-button-link" id="modal-toggle-cancellable" data-vl-modal-close>
                      <span is="vl-icon" icon="cross" before></span>Annuleer
                    </button>
                  </div>
                </div>
              </div>
            </dialog>
          </div>
        `)}connectedCallback(){super.connectedCallback(),this.dress()}get _dialogElement(){return this._element?.querySelector("dialog")}get _titleElement(){return this._element.querySelector("#modal-toggle-title")}get _actionGroupElement(){return this._element.querySelector("#modal-action-group")}get _cancelElement(){return this._element.querySelector("#modal-toggle-cancellable")}get _slotButtonElement(){return this._element.querySelector('slot[name="button"]')}get _dressed(){return!!this.getAttribute("data-vl-modal-dressed")}dress(){this._dressed||vl.modal.dress(this._dialogElement)}open(){vl.modal.lastClickedToggle=this._dialogElement,this.isOpen()||(0,i.wA)(()=>this._dialogElement.isConnected).then(()=>{vl.modal.toggle(this._dialogElement),this._dialogElement?.focus()})}close(){this.isOpen()&&vl.modal.toggle(this._dialogElement)}on(e,t){this._dialogElement?.addEventListener(e,t)}off(e,t){this._dialogElement?.removeEventListener(e,t)}isOpen(){return this._dialogElement?.hasAttribute("open")}_getCloseButtonTemplate(){return this._template(`
      <button id="close" type="button" class="vl-modal-dialog__close" data-vl-modal-close>
        <i class="vl-modal-dialog__close__icon vl-vi vl-vi-cross" aria-hidden="true"></i>
        <span class="vl-u-visually-hidden">Venster sluiten</span>
      </button>
    `)}_getTitleTemplate(e){return this._template(`
      <h2 class="vl-modal-dialog__title" id="modal-toggle-title">${e}</h2>`)}_getCancelTemplate(){return this._template(`
      <button is="vl-button-link" data-vl-modal-close id="modal-toggle-cancellable">
          <span is="vl-icon" icon="cross" before data-vl-modal-close></span>Annuleer
      </button>`)}_idChangedCallback(e,t){this._dialogElement.id=t}_titleChangedCallback(e,t){t?this._titleElement?this._titleElement.innerText=t:this._dialogElement.prepend(this._getTitleTemplate(t)):this._titleElement&&this._titleElement.remove()}_notCancellableChangedCallback(e,t){void 0!=t||this._cancelElement?void 0!=t&&this._cancelElement&&this._cancelElement.remove():this._actionGroupElement.append(this._getCancelTemplate())}_openChangedCallback(e,t){this.open()}_closableChangedCallback(e,t){void 0!=t?(this._closeButtonElement=this._getCloseButtonTemplate(),this._dialogElement.setAttribute(d._closableAttribute,""),this._dialogElement.appendChild(this._closeButtonElement)):this._closeButtonElement&&(this._closeButtonElement.remove(),this._dialogElement.removeAttribute(d._closableAttribute))}_notAutoClosableChangedCallback(e,t){void 0!=t||this._slotButtonElement.hasAttribute(d._closeAttribute)?void 0!=t&&this._slotButtonElement.hasAttribute(d._closeAttribute)&&this._slotButtonElement.removeAttribute(d._closeAttribute):this._slotButtonElement.setAttribute(d._closeAttribute,"")}};d=function(e,t,o,i){var n,l=arguments.length,a=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(l<3?n(a):l>3?n(t,o,a):n(t,o))||a);return l>3&&a&&Object.defineProperty(t,o,a),a}([(0,i.a6)("vl-modal")],d)},"./libs/components/src/modal/vl-modal.lib.js":(e,t,o)=>{o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js"),o("./node_modules/core-js/modules/es.array.includes.js"),e=o.hmd(e),function(t,i){"object"==typeof exports?e.exports=i():"function"==typeof define&&o.amdO?define(i):t.modal=i()}("undefined"!=typeof self?self:void 0,function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e){return null!=e&&e.shadowRoot?o(e.shadowRoot.activeElement):e}var i=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(t){!function(){var i=window.CustomEvent;function n(e){for(;e;){if("dialog"===e.localName)return e;e=e.assignedSlot?e.assignedSlot.parentElement:e.parentElement}return null}function l(e){e&&e.blur&&e!==document.body&&e.blur()}function a(e){return!!(e&&e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function s(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]});else{var t,o=!1,i=(function(){o?this.downgradeModal():this.maybeHideModal(),o=!1}).bind(this),n=function(n){if(n.target===e){var l="DOMNodeRemoved";o|=n.type.substr(0,l.length)===l,window.clearTimeout(t),t=window.setTimeout(i,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(t){e.addEventListener(t,n)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}i&&"object"!==e(i)||((i=function(e,t){t=t||{};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),o}).prototype=window.Event.prototype),s.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),r.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var o=document.createEvent("MouseEvents");o.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(o),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["BUTTON","INPUT","KEYGEN","SELECT","TEXTAREA"],i=[];this.dialog_.querySelectorAll("slot").forEach(function(e){i=i.concat(e.assignedNodes().filter(function(e){return t.includes(e.nodeName)}))}),i.length>0&&(e=i[0])}if(!e){var n=["button","input","keygen","select","textarea"].map(function(e){return"".concat(e,":not([disabled])")});n.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(n.join(", "))}l(o(document.activeElement)),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!r.dm.pushDialog(this))throw Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),o=function(e,o){return!(void 0===t[e]||t[e]===o)};if(t.opacity<1||o("zIndex","auto")||o("transform","none")||o("mixBlendMode","normal")||o("filter","none")||o("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,r.needsCentering(this.dialog_)?(r.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new i("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var r={};if(r.reposition=function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,o=t+(window.innerHeight-e.offsetHeight)/2;e.style.top="".concat(Math.max(t,o),"px")},r.isInlinePositionSetByStylesheet=function(e){for(var t=0;t<document.styleSheets.length;++t){var o=document.styleSheets[t],i=null;try{i=o.cssRules}catch(e){}if(i)for(var n=0;n<i.length;++n){var l=i[n],a=null;try{a=document.querySelectorAll(l.selectorText)}catch(e){}if(a&&function(e,t){for(var o=0;o<e.length;++o)if(e[o]===t)return!0;return!1}(a,e)){var s=l.style.getPropertyValue("top"),r=l.style.getPropertyValue("bottom");if(s&&"auto"!==s||r&&"auto"!==r)return!0}}}return!1},r.needsCentering=function(e){return"absolute"===window.getComputedStyle(e).position&&("auto"===e.style.top||""===e.style.top)&&("auto"===e.style.bottom||""===e.style.bottom)&&!r.isInlinePositionSetByStylesheet(e)},r.forceRegisterDialog=function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw Error("Failed to register dialog: The element is not a dialog.");new s(e)},r.registerDialog=function(e){e.showModal||r.forceRegisterDialog(e)},r.DialogManager=function(){var e=this;this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(o){e.forwardTab_=void 0,o.stopPropagation(),t([])}),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(e){var o=[];e.forEach(function(e){for(var t,i=0;t=e.removedNodes[i];++i)t instanceof Element&&("dialog"===t.localName&&o.push(t),o=o.concat(t.querySelectorAll("dialog")))}),o.length&&t(o)}))},r.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},r.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},r.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,o=0;e=this.pendingDialogStack[o];++o)e.updateZIndex(--t,--t),0===o&&(this.overlay.style.zIndex=--t);var i=this.pendingDialogStack[0];i?(i.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},r.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=n(e);){for(var t,o=0;t=this.pendingDialogStack[o];++o)if(t.dialog===e)return 0===o;e=e.parentElement}return!1},r.DialogManager.prototype.handleFocus_=function(e){var t=o(document.activeElement);if(!this.containedByTopDialog_(t)&&(e.preventDefault(),e.stopPropagation(),l(e.target),void 0!==this.forwardTab_)){var i=this.pendingDialogStack[0];return i.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?i.focus_():document.documentElement.focus()),!1}},r.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new i("cancel",{bubbles:!1,cancelable:!0}),o=this.pendingDialogStack[0];o&&o.dialog.dispatchEvent(t)&&o.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},r.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach(function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()})},r.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},r.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},r.dm=new r.DialogManager,r.formSubmitter=null,r.useValue=null,void 0===window.HTMLDialogElement){var d=document.createElement("form");if(d.setAttribute("method","dialog"),"dialog"!==d.method){var c=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(c){var u=c.get;c.get=function(){return a(this)?"dialog":u.call(this)};var h=c.set;c.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):h.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",c)}}document.addEventListener("click",function(e){if(r.formSubmitter=null,r.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&a(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if(!("input"===t.localName&&"image"===t.type))return;r.useValue="".concat(e.offsetX,",").concat(e.offsetY)}n(t)&&(r.formSubmitter=t)}}},!1);var m=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!a(this))return m.call(this);var e=n(this);e&&e.close()},document.addEventListener("submit",function(e){var t=e.target;if(a(t)){e.preventDefault();var o=n(t);if(o){var i=r.formSubmitter;i&&i.form===t?o.close(r.useValue||i.value):o.close(),r.formSubmitter=null}}},!0)}r.forceRegisterDialog=r.forceRegisterDialog,r.registerDialog=r.registerDialog,"object"===e(t.exports)?t.exports=r:window.dialogPolyfill=r}()}),n="data-".concat(vl.ns,"modal"),l="".concat(n,"-dressed"),a="".concat(n,"-closable"),s="".concat(n,"-open"),r="".concat(n,"-close"),d="".concat(vl.ns,"u-no-overflow"),c=function(){function e(){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.lastClickedToggle=null}return function(e,o,i){o&&t(e.prototype,o),i&&t(e,i)}(e,[{key:"toggle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.hasAttribute("open");o||t?(o&&(e.close(),e.setAttribute("aria-hidden",!0)),this.lastClickedToggle.focus(),vl.util.removeClass(document.body,d)):(e.showModal(),e.setAttribute("aria-hidden",!1),vl.util.addClass(document.body,d))}},{key:"dress",value:function(e){var t,o,n=!1,d=this;i.registerDialog(e),e.setAttribute(l,!0),t=document.querySelectorAll("[".concat(s,'="').concat(e.id,'"]')),o=e.querySelectorAll("[".concat(r,"]")),n=e.hasAttribute(a),vl.util.each(t,function(t){t.addEventListener("click",function(t){d.lastClickedToggle=this,e.hasAttribute("open")||d.toggle(e),t.preventDefault()})}),vl.util.each(o,function(t){t.addEventListener("click",function(){e.hasAttribute("open")&&d.toggle(e)})}),n?(document.addEventListener("click",function(t){if(e.hasAttribute("open")){var o=e.getBoundingClientRect();!(t.clientY>o.top&&t.clientY<o.top+o.height&&t.clientX>o.left&&t.clientX<o.left+o.width)&&("VL-MODAL"===t.target.tagName||vl.util.hasClass(t.target,".backdrop"))&&d.toggle(e)}}),e.addEventListener("close",function(){d.toggle(e,!0)})):e.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),e.stopPropagation())})}},{key:"dressAll",value:function(){var e=this,t=document.querySelectorAll("[".concat(n,"]:not([").concat(l,"]):not([data-").concat(vl.ns,'js-dress="false"])'));vl.util.each(t,function(t){e.dress(t)})}}]),e}();return"modal"in vl||(vl.modal=new c,vl.modal.dressAll()),c})}}]);