"use strict";(self.webpackChunkuigov_web_components=self.webpackChunkuigov_web_components||[]).push([[1405],{"./node_modules/lit/decorators.js":(e,t,r)=>{var s;r.d(t,{Mo:()=>o,Cb:()=>n});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let o=e=>t=>"function"==typeof t?((e,t)=>(customElements.define(e,t),t))(e,t):((e,t)=>{let{kind:r,elements:s}=t;return{kind:r,elements:s,finisher(t){customElements.define(e,t)}}})(e,t),a=(e,t)=>"method"!==t.kind||!t.descriptor||"value"in t.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}}:{...t,finisher(r){r.createProperty(t.key,e)}},i=(e,t,r)=>{t.constructor.createProperty(r,e)};function n(e){return(t,r)=>void 0!==r?i(e,t,r):a(e,t)}null!=(null===(s=window.HTMLSlotElement)||void 0===s?void 0:s.prototype.assignedElements)||((e,t)=>e.assignedNodes(t).filter(e=>e.nodeType===Node.ELEMENT_NODE))},"./node_modules/ol/source/Cluster.js":(e,t,r)=>{r.d(t,{Z:()=>h});var s=r("./node_modules/ol/events/EventType.js"),o=r("./node_modules/ol/Feature.js"),a=r("./node_modules/ol/geom/Point.js"),i=r("./node_modules/ol/source/Vector.js"),n=r("./node_modules/ol/coordinate.js"),l=r("./node_modules/ol/asserts.js"),c=r("./node_modules/ol/extent.js"),u=r("./node_modules/ol/util.js"),d=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function s(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),p=function(e){function t(t){var r=e.call(this,{attributions:t.attributions,wrapX:t.wrapX})||this;return r.resolution=void 0,r.distance=void 0!==t.distance?t.distance:20,r.minDistance=t.minDistance||0,r.interpolationRatio=0,r.features=[],r.geometryFunction=t.geometryFunction||function(e){var t=e.getGeometry();return(0,l.h)("Point"==t.getType(),10),t},r.createCustomCluster_=t.createCluster,r.source=null,r.boundRefresh_=r.refresh.bind(r),r.updateDistance(r.distance,r.minDistance),r.setSource(t.source||null),r}return d(t,e),t.prototype.clear=function(t){this.features.length=0,e.prototype.clear.call(this,t)},t.prototype.getDistance=function(){return this.distance},t.prototype.getSource=function(){return this.source},t.prototype.loadFeatures=function(e,t,r){this.source.loadFeatures(e,t,r),t!==this.resolution&&(this.resolution=t,this.refresh())},t.prototype.setDistance=function(e){this.updateDistance(e,this.minDistance)},t.prototype.setMinDistance=function(e){this.updateDistance(this.distance,e)},t.prototype.getMinDistance=function(){return this.minDistance},t.prototype.setSource=function(e){this.source&&this.source.removeEventListener(s.Z.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(s.Z.CHANGE,this.boundRefresh_),this.refresh()},t.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},t.prototype.updateDistance=function(e,t){var r=0===e?0:Math.min(t,e)/e,s=e!==this.distance||this.interpolationRatio!==r;this.distance=e,this.minDistance=t,this.interpolationRatio=r,s&&this.refresh()},t.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var e=(0,c.lJ)(),t=this.distance*this.resolution,r=this.source.getFeatures(),s={},o=0,a=r.length;o<a;o++){var i=r[o];if(!((0,u.sq)(i) in s)){var n=this.geometryFunction(i);if(n){var l=n.getCoordinates();(0,c.HK)(l,e),(0,c.f3)(e,t,e);var d=this.source.getFeaturesInExtent(e).filter(function(e){var t=(0,u.sq)(e);return!(t in s)&&(s[t]=!0,!0)});this.features.push(this.createCluster(d,e))}}}},t.prototype.createCluster=function(e,t){for(var r=[0,0],s=e.length-1;s>=0;--s){var i=this.geometryFunction(e[s]);i?(0,n.IH)(r,i.getCoordinates()):e.splice(s,1)}(0,n.bA)(r,1/e.length);var l=(0,c.qg)(t),u=this.interpolationRatio,d=new a.Z([r[0]*(1-u)+l[0]*u,r[1]*(1-u)+l[1]*u]);return this.createCustomCluster_?this.createCustomCluster_(d,e):new o.Z({geometry:d,features:e})},t}(i.Z);let h=p},"./libs/map/src/components/baselayer/vl-map-base-layer-grb-gray/vl-map-base-layer-grb-gray.ts":(e,t,r)=>{var s=r("./libs/common/utilities/src/index.ts"),o=r("./libs/map/src/components/baselayer/vl-map-base-layer.ts");let a=class extends o.m{constructor(){super(),this.url="https://geo.api.vlaanderen.be/GRB/wmts",this.layer="grb_bsk_grijs",this.title="GRB basis laag grijs"}};a=function(e,t,r,s){var o,a=arguments.length,i=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}([(0,s.a6)("vl-map-baselayer-grb-gray")],a)},"./libs/map/src/components/layer/vector-layer/vl-map-features-layer/vl-map-features-layer.ts":(e,t,r)=>{var s=r("./libs/common/utilities/src/index.ts"),o=r("./node_modules/ol/format/GeoJSON.js"),a=r("./node_modules/ol/geom/Point.js"),i=r("./node_modules/ol/source/Cluster.js"),n=r("./node_modules/ol/source/Vector.js"),l=r("./libs/map/src/components/layer/vector-layer/vl-map-vector-layer.ts");let c=class extends l.b{static get _observedAttributes(){return l.b._observedAttributes.concat(["auto-extent","features"])}constructor(){super()}init(){this._geoJSON=new o.Z,this._source=this.__createSource(),this._layer=this._createLayer()}async connectedCallback(){this.init(),await super.connectedCallback(),this._autoZoomToExtent()}get features(){return this.__featuresSource?this.__featuresSource.getFeatures():this._featuresFromAttribute}get _featuresFromAttribute(){let e=this.getAttribute("features");return e?this.__readGeoJsonFeatures(e):[]}set features(e){this.setAttribute("features",JSON.stringify(e))}get _autoExtent(){return void 0!=this.getAttribute("auto-extent")}get _autoExtentMaxZoom(){return this.getAttribute("auto-extent-max-zoom")}get cluster(){return void 0!=this.getAttribute("cluster")}get _clusterDistance(){return this.getAttribute("cluster-distance")}removeFeaturesStyle(){this.__featuresSource&&this.__featuresSource.getFeatures()&&this.__featuresSource.getFeatures().forEach(e=>{e.setStyle(null)})}getFeature(e){if(this.__featuresSource&&this.__featuresSource.getFeatures())return this.__featuresSource.getFeatures().filter(t=>t.getId()===e)[0]}getCluster(e){if(this._layer)return this._layer.getSource().getFeatures().filter(t=>{let r=t.get("features");return!!r&&r.some(t=>t.getId()===e)})[0]}async zoomToExtent(e){this.mapElement&&this.boundingBox&&this.mapElement.zoomTo(this.boundingBox,e)}clearFeatures(){this.__featuresSource&&(this.__featuresSource.clear(),this._featuresChanged())}addFeature(e){this.__featuresSource&&(this.__featuresSource.addFeatures([this._geoJSON.readFeature(e)]),this._featuresChanged())}addFeatureCollection(e){this.__featuresSource&&(this.__featuresSource.addFeatures(this._geoJSON.readFeatures(e)),this._featuresChanged())}_autoExtentChangedCallback(){this._autoZoomToExtent()}_featuresChangedCallback(e,t){t&&this._layer&&(this.__featuresSource.clear(),this.__featuresSource.addFeatures(this.__readGeoJsonFeatures(t)),this._featuresChanged())}_featuresChanged(){this._autoZoomToExtent(),this.rerender()}_autoZoomToExtent(){this._autoExtent&&this.zoomToExtent(this._autoExtentMaxZoom)}get boundingBox(){if(this.__featuresSource&&this.__featuresSource.getFeatures().length>0)return this.__featuresSource.getExtent()}__createSource(){let e=new n.Z({features:this.features});return this.cluster?this.__createClusterSource(e):e}__createClusterSource(e){return new i.Z({distance:this._clusterDistance,source:e,geometryFunction:e=>{let t=e.getGeometry();return t instanceof a.Z?t:this.__ignoreClustering()}})}get __featuresSource(){return this.cluster&&this.source?this.source.getSource():this.source}__ignoreClustering(){return null}__readGeoJsonFeatures(e){return this._geoJSON.readFeatures(e)}};c=function(e,t,r,s){var o,a=arguments.length,i=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}([(0,s.a6)("vl-map-features-layer")],c)},"./libs/map/src/components/layer/vector-layer/vl-map-vector-layer.ts":(e,t,r)=>{r.d(t,{b:()=>i});var s=r("./node_modules/ol/layer/Vector.js"),o=r("./libs/map/src/components/layer-style/vl-map-layer-style.ts"),a=r("./libs/map/src/components/layer/vl-map-layer.ts");class i extends a.w{static get EVENTS(){return{styleChanged:"style-changed"}}constructor(){super(),this.pendingLayerStyles=[],this._styles=[]}async connectedCallback(){await super.connectedCallback(),this.applyPendingStyles()}get style(){return this.layer?.getStyle()||null}set style(e){this._layer?this.applyStyle(e):this.pendingLayerStyles=[...this.pendingLayerStyles,e]}applyStyle(e){e instanceof o.W?(this._styles.push(e),this._layer.setStyle(e=>this._styles.map(t=>t.style(e)).filter(e=>null!=e))):(this._styles=[],this._layer.setStyle(e)),this.dispatchEvent(new CustomEvent(i.EVENTS.styleChanged,{bubbles:!0,composed:!0,detail:{style:e}}))}_createLayer(){let e=new s.Z({title:this._name,source:this._source,updateWhileAnimating:!0,updateWhileInteracting:!0,minResolution:this._minResolution,maxResolution:this._maxResolution,visible:this._visible,opacity:this._opacity});return e.set("id",a.w._counter),e}applyPendingStyles(){this._layer&&(this.pendingLayerStyles?.forEach(e=>this.applyStyle(e)),this.pendingLayerStyles=[])}}},"./libs/map/src/components/action/click-action/stories/vl-map-click-action.stories.ts":(e,t,r)=>{r.r(t),r.d(t,{MapClickActionDefault:()=>b,default:()=>_});var s=r("./node_modules/lit/index.js");r("./libs/map/src/vl-map.ts"),r("./libs/map/src/components/baselayer/vl-map-base-layer-grb-gray/vl-map-base-layer-grb-gray.ts"),r("./libs/map/src/components/layer/vector-layer/vl-map-features-layer/vl-map-features-layer.ts");var o=r("./node_modules/ol/Overlay.js"),a=r("./node_modules/lit/decorators.js"),i=r("./libs/common/utilities/src/index.ts");let n=class extends i.fS{static{this.styles=(0,s.iv)`
        :host {
            /* Set the marker size here */
            width: 2rem;
            height: 2rem;
            border-radius: 2rem;
            /* Set the marker color here */
            background: #0039aaff;

            display: inline-block;
            border-bottom-right-radius: 0;
            position: relative;
            transform: rotate(45deg);

            /* optional fanciness */
            border: 1px solid #0039aaff;
        }

        :host::before {
            content: '';
            background: white;
            width: 50%;
            height: 50%;
            border-radius: 100%;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);

            /* optional fanciness */
            box-shadow: 0.1rem 0.1rem 0.2rem 0.1rem rgba(0, 0, 0, 0.1);
        }

        /* shadow (optional if you don't need a shadow) */

        :host::after {
            content: '';
            background: rgba(128, 128, 128, 0.2);
            width: 75%;
            height: 75%;
            border-radius: 100%;
            position: absolute;
            top: 100%;
            left: 100%;
            transform: translate(-50%, -50%) rotate(45deg) scaleX(0.5);
        }
    `}};n=function(e,t,r,s){var o,a=arguments.length,i=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}([(0,a.Mo)("vl-map-click-action-pindrop")],n);let l="vl-map-clicked";class c extends Event{static{this.eventType=l}constructor(e,t,r){super(l,{bubbles:!0}),this.coordinate=e,this.resolution=t,this.projection=r}}let u=class extends i.fS{connectedCallback(){super.connectedCallback();let e=new o.Z({element:new n,positioning:"bottom-center",autoPan:{animation:{duration:250}}});this.map.map.addOverlay(e),this.map.on("singleclick",t=>{e.setPosition(t.coordinate),this.dispatchEvent(new c(t.coordinate,this.map.map.getView().getResolution(),this.map.map.getView().getProjection()))})}get map(){return this.closest("vl-map")}};u=function(e,t,r,s){var o,a=arguments.length,i=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}([(0,a.Mo)("vl-map-click-action")],u);var d=r("./libs/common/storybook/src/index.ts");let p={onMapClicked:(0,d.lj)("vl-map-clicked")},h={onMapClicked:{name:"vl-map-clicked",description:"Afgevuurd wanneer er op de map geklikt wordt.<br>Het event bevat de locatie informatie, zie de console logs van Storybook voor het volledige event.",table:{type:{summary:"{ coordinate: Coordinate, resolution: number, projection: ProjectionLike }"},category:d.aA.EVENTS}}};r("./node_modules/react/index.js");var m=r("./node_modules/react/jsx-runtime.js"),f=r("./node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js"),y=r("./node_modules/@storybook/blocks/dist/index.mjs");function g(e){let t=Object.assign({h1:"h1",p:"p",code:"code",a:"a",h2:"h2",pre:"pre"},(0,f.ah)(),e.components);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(t.h1,{id:"map-click-action",children:"Map Click Action"}),"\n",(0,m.jsxs)(t.p,{children:["Gebruik het ",(0,m.jsx)(t.code,{children:"map-click-action"})," component om een klikactie op de ",(0,m.jsx)(t.a,{href:"/docs/map-map--map-default",children:"map"})," op te vangen.",(0,m.jsx)("br",{}),"\nBij het klikken op de ",(0,m.jsx)(t.a,{href:"/docs/map-map--map-default",children:"map"})," wordt er een ",(0,m.jsx)(t.code,{children:"vl-map-click-action-pindrop"})," op de kaart geplaatst."]}),"\n",(0,m.jsx)(t.h2,{id:"voorbeeld",children:"Voorbeeld"}),"\n",(0,m.jsx)(t.pre,{children:(0,m.jsx)(t.code,{className:"language-js",children:"import { VlMapClickAction } from '@domg-wc/map';\n"})}),"\n",(0,m.jsx)(t.pre,{children:(0,m.jsx)(t.code,{className:"language-html",children:"<vl-map-click-action></vl-map-click-action>\n"})}),"\n",(0,m.jsx)(y.Xz,{of:b})]})}let _={title:"map/action/click-action",tags:["autodocs"],args:(0,d.T8)(p),argTypes:(0,d.xj)(h),parameters:{controls:{hideNoControlsWarning:!0},docs:{page:function(e={}){let{wrapper:t}=Object.assign({},(0,f.ah)(),e.components);return t?(0,m.jsx)(t,Object.assign({},e,{children:(0,m.jsx)(g,e)})):g(e)}}}},b=(0,d.yg)(p,({onMapClicked:e})=>(0,s.dy)`
        <vl-map>
            <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
            <vl-map-click-action @vl-map-clicked=${e}></vl-map-click-action>
        </vl-map>
    `);b.storyName="vl-map-click-action - default",b.parameters={...b.parameters,docs:{...b.parameters?.docs,source:{originalSource:"story(mapClickActionArg, ({\n  onMapClicked\n}) => html`\n        <vl-map>\n            <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>\n            <vl-map-click-action @vl-map-clicked=${onMapClicked}></vl-map-click-action>\n        </vl-map>\n    `)",...b.parameters?.docs?.source}}}}}]);