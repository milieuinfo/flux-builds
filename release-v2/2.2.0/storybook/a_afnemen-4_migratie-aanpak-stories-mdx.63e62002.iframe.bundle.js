"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[6134],{"./docs/a_afnemen/4_migratie-aanpak.stories.mdx":(e,n,i)=>{i.r(n),i.d(n,{__namedExportsOrder:()=>v,__page:()=>h,dataVlInfoBlock:()=>c,default:()=>x,v1AfsplitsRelease:()=>l,v1AfsplitsReleaseVersie:()=>o,v1StorybookLink:()=>d,v2InfoBlock:()=>a}),i("../../node_modules/react/index.js");var r=i("../../node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js"),t=i("../../node_modules/@storybook/blocks/dist/index.mjs"),s=i("../../node_modules/react/jsx-runtime.js");let l="1.48.2",d=`https://milieuinfo.github.io/flux-builds/release-v1/${l}/storybook/?path=`,o=`v${l}`,a=`
- Imports aan te passen naar \`@domg-wc/components/next/...\`
- Componenten te registreren met \`registerWebComponents()\` 
- CSS styles toe te voegen via \`static get styles()\`
- Legacy imports (zoals \`VlGridElement\`, \`vlElementsStyle\`, etc.) te verwijderen
- Opletten bij het selecteren van elementen in code of in tests  
  bv: \`.querySelector('h1')\` of \`.querySelector('[is="vl-button"]')\` zullen breken
`,c=`
Het gebruik van \`.dataset.vl...\` zal niet meer werken. Dit kan vervangen worden door \`.getAttribute('...')\`.
<table}>
  <tr>
    <th>v1</th>
    <th>v2</th>
  </tr>
  <tr>
    <td>data-vl-max-resolution</td>
    <td>max-resolution</td>
  </tr>
  <tr>
    <td>element.dataset.vlMaxResolution</td>
    <td>element.getAttribute('max-resolution')</td>
  </tr>
</table>
`;function m(e){let n=Object.assign({h1:"h1",h2:"h2",ul:"ul",li:"li",a:"a",p:"p",ol:"ol",code:"code",h3:"h3",h4:"h4",strong:"strong",br:"br",pre:"pre",hr:"hr"},(0,r.RP)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.W8,{title:"Afnemen/Migratie v2 - Aanpak"}),"\n",(0,s.jsx)(n.h1,{id:"migratie-v2---aanpak",children:"Migratie v2 - Aanpak"}),"\n",(0,s.jsx)(n.h2,{id:"inhoudstafel",children:"Inhoudstafel"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#aanpak-overzicht",children:"Aanpak Overzicht"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#aanpak-detail",children:"Aanpak Detail"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#1-migratie-naar-de-nieuwste-v1-release",children:"1. Migratie naar de nieuwste v1 release"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#2-legacy-componenten-vervangen-door-hun-next-variant",children:'2. Legacy componenten vervangen door hun "next"-variant'}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#21-elementen-wegwerken",children:"2.1 Elementen wegwerken"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#211-grid-wijzigingen",children:"2.1.1 Grid wijzigingen"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#22-next-varianten-implementeren",children:'2.2 "next"-varianten implementeren'})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#23-vl-u--utility-classes",children:'2.3 "vl-u-..." utility classes'})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#3-migratie-naar-de-v2-release",children:"3. Migratie naar de v2 release"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#31-wijzigingen-in-v2",children:"3.1 Wijzigingen in v2"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#32-migratie-acties",children:"3.2 Migratie acties"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#31-imports",children:"3.3 Imports"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#34-optimalisaties",children:"3.4 Optimalisaties"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"aanpak-overzicht",children:"Aanpak Overzicht"}),"\n",(0,s.jsx)(n.p,{children:"De makkelijkste manier om te migreren naar v2 is als volgt:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["migreer minstens naar de v1 release waarvan v2 afgesplitst is: ",o," - hoger mag ook"]}),"\n",(0,s.jsx)(n.li,{children:'vervang de legacy componenten door hun "next"-variant'}),"\n",(0,s.jsx)(n.li,{children:"migreer naar de v2 release (best ineens naar de nieuwste v2 versie)"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:['Op deze manier kan je tijdens de migratie de legacy componenten blijven gebruiken en ze geleidelijk vervangen door\nhun "next"-variant. Nadat alle legacy componenten vervangen zijn door hun "next"-variant kan je de migratie naar\nv2 uitvoeren. Die stap bestaat dan grotendeels uit het verwijderen van de ',(0,s.jsx)(n.code,{children:"-next"})," suffix en het aanpassen van de\nimports."]}),"\n",(0,s.jsx)(n.h2,{id:"aanpak-detail",children:"Aanpak Detail"}),"\n",(0,s.jsx)(n.h3,{id:"1-migratie-naar-de-nieuwste-v1-release",children:"1. Migratie naar de nieuwste v1 release"}),"\n",(0,s.jsxs)(n.p,{children:["De v2 versie is gestart op basis van ",o," - deze bevat de laatste bugfixes en verbeteringen van\nde legacy componenten."]}),"\n",(0,s.jsxs)(n.p,{children:["Het heeft de voorkeur om ",o," te gebruiken als basis voor de migratie naar v2, deze release bevat\n(voor de componenten die behouden bleven) dezelfde functionaliteit als de eerste v2 release. Op die manier zullen de\nverdere stappen in de migratie eenvoudiger zijn."]}),"\n",(0,s.jsx)(n.h3,{id:"2-legacy-componenten-vervangen-door-hun-next-variant",children:'2. Legacy componenten vervangen door hun "next"-variant'}),"\n",(0,s.jsxs)(n.p,{children:["De legacy componenten zijn componenten die geschrapt worden, ze moeten vervangen worden door de equivalente\n",(0,s.jsx)(n.a,{href:"/docs/afnemen-migratie-v2-impact--documentatie",children:"next-component"})," of\n",(0,s.jsx)(n.a,{href:"/docs/styles-concept--documentatie#layout-afnemers",children:"next-layout"}),"."]}),"\n",(0,s.jsx)("vl-alert",{type:"info",title:"Info",icon:"info-circle",size:"small","custom-css":".vl-alert{margin-bottom: 3rem;}",children:(0,s.jsx)(t.oz,{options:{forceInline:!0},style:{fontSize:"14px"},children:`
    Zie [Migratie v2 - Impact](/docs/afnemen-migratie-v2-impact--documentatie) voor gedetaileerde informatie over welke elementen vervangen worden.  
    In deze stap migreren we naar de waarden onder **v1 - Gebruik**.
    `})}),"\n",(0,s.jsx)(n.h4,{id:"21-elementen-wegwerken",children:(0,s.jsx)(n.strong,{children:"2.1 Elementen wegwerken"})}),"\n",(0,s.jsxs)(n.p,{children:["Vervang alle ",(0,s.jsx)(n.code,{children:'<x is="...">'})," elementen door hun nieuwe component of class."]}),"\n",(0,s.jsxs)(n.p,{children:["Een aantal elementen verdwijnen, bv:",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.code,{children:'<body is="vl-body">'})," → ",(0,s.jsx)(n.code,{children:"<body>"})]}),"\n",(0,s.jsxs)(n.p,{children:["Een aantal elementen worden vervangen door componenten, bv:",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.code,{children:'<button is="vl-button">'})," →  ",(0,s.jsx)(n.code,{children:"<vl-button-next>"})]}),"\n",(0,s.jsxs)(n.p,{children:["Een aantal elementen worden vervangen door classes, bv:",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.code,{children:'is="vl-grid"'})," en ",(0,s.jsx)(n.code,{children:'is="vl-form-grid"'})," → ",(0,s.jsx)(n.code,{children:'class="vl-grid-next"'})]}),"\n",(0,s.jsx)("vl-alert",{type:"info",title:"Vergeet niet",icon:"info-circle",size:"small","custom-css":".vl-alert{margin-bottom: 3rem;}",children:(0,s.jsx)(t.oz,{style:{fontSize:"14px"},children:a})}),"\n",(0,s.jsx)(n.h4,{id:"22-next-varianten-implementeren",children:(0,s.jsx)(n.strong,{children:'2.2 "next"-varianten implementeren'})}),"\n",(0,s.jsxs)(n.p,{children:['Voor alle componenten met een "next"-variant in ',(0,s.jsx)(n.a,{href:"/docs/afnemen-migratie-v2-impact--documentatie",children:"deze lijst"})," onder ",(0,s.jsx)(n.strong,{children:"v1 - Gebruik"}),", moet er eerst naar deze implementatie gemigreerd worden. Deze upgrade bevat breaking changes, dus in deze stap is het essentieel om goed te testen of alles blijft werken en eventuele fixes door te voeren."]}),"\n",(0,s.jsx)(n.h4,{id:"23-vl-u--utility-classes",children:(0,s.jsx)(n.strong,{children:'2.3 "vl-u-..." utility classes'})}),"\n",(0,s.jsxs)(n.p,{children:["Sommige ",(0,s.jsx)(n.code,{children:"vl-u-..."})," classes worden als component of stijl aangeboden in onze bibliotheek, zoals bv ",(0,s.jsx)(n.code,{children:"vl-text"}),". Indien ze niet beschikbaar zijn, bieden we deze (nog) niet aan. Je kan hiervoor een request indienen. Voorlopig zal de CSS-code gekopiëerd moeten worden naar de componenten die deze utility classes gebruiken."]}),"\n",(0,s.jsx)(n.h3,{id:"3-migratie-naar-de-v2-release",children:"3. Migratie naar de v2 release"}),"\n",(0,s.jsxs)(n.p,{children:["Functioneel (voor de behouden componenten) loopt v2.0.0 gelijk met v1 release ",o,"."]}),"\n",(0,s.jsx)(n.h4,{id:"31-wijzigingen-in-v2",children:(0,s.jsx)(n.strong,{children:"3.1 Wijzigingen in v2"})}),"\n",(0,s.jsx)(n.p,{children:"Volgende wijzigingen werden doorgevoerd in v2 tov v1:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"alle legacy componenten uit v1 werden verwijderd"}),"\n",(0,s.jsxs)(n.li,{children:['alle "next"-componenten zijn gepromoveerd: deze hebben geen ',(0,s.jsx)(n.code,{children:"-next"})," suffix meer en bij alle attributen werd de ",(0,s.jsx)(n.code,{children:"data-vl-"}),"-prefix\nverwijderd."]}),"\n",(0,s.jsxs)(n.li,{children:["de ",(0,s.jsx)(n.a,{href:"/docs/bijdragen-opzet-structuur--documentatie",children:"package structuur"})," wijzigde, dit heeft impact op de imports"]}),"\n"]}),"\n",(0,s.jsx)("vl-alert",{type:"info",title:"Info",icon:"info-circle",size:"small","custom-css":".vl-alert{margin-bottom: 3rem;}",children:(0,s.jsx)(t.oz,{options:{forceInline:!0},style:{fontSize:"14px"},children:`
    Zie [Migratie v2 - Impact](/docs/afnemen-migratie-v2-impact--documentatie) voor gedetaileerde informatie over welke componeten vervangen worden.  
    In deze stap migreren we naar de waarden onder **v2 - Gebruik**.
    `})}),"\n",(0,s.jsx)(n.h4,{id:"32-migratie-acties",children:(0,s.jsx)(n.strong,{children:"3.2 Migratie acties"})}),"\n",(0,s.jsx)(n.p,{children:"De te ondernemen acties om te migreren zijn:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["verwijder de ",(0,s.jsx)(n.code,{children:"-next"})," suffix van de componenten"]}),"\n",(0,s.jsxs)(n.li,{children:["pas de imports aan (zie ",(0,s.jsx)(n.a,{href:"#33-imports",children:"hieronder"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["verwijder de ",(0,s.jsx)(n.code,{children:"data-vl-"})," prefix van de attributen"]}),"\n"]}),"\n",(0,s.jsx)("vl-alert",{type:"info",title:"Opgelet",icon:"info-circle",size:"small","custom-css":".vl-alert{margin-bottom: 3rem;}",children:(0,s.jsx)(t.oz,{options:{forceInline:!0},style:{fontSize:"14px"},children:c})}),"\n",(0,s.jsx)(n.h4,{id:"33-imports",children:(0,s.jsx)(n.strong,{children:"3.3 Imports"})}),"\n",(0,s.jsx)(n.p,{children:"De v2 versie kan je installeren via npm:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"npm uninstall @domg-wc/common-utilities @domg-wc/form @domg-wc/sections @domg-wc/elements && npm install @domg-wc/common@^2.1.0 @domg-wc/components@^2.1.0 @domg-wc/map@^2.1.0 @domg-wc/styles@^2.1.0\n"})}),"\n",(0,s.jsx)(n.p,{children:"Dit kuist de oude installatiefiles op en voegt deze nieuwe dependencies toe aan je package.json:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'"@domg-wc/common": "2.1.0",\n"@domg-wc/components": "2.1.0",\n"@domg-wc/map": "2.1.0",\n"@domg-wc/styles": "2.1.0",\n'})}),"\n",(0,s.jsx)(n.p,{children:"Te wijzigen imports:"}),"\n",(0,s.jsxs)("table",{style:{width:"100%"},children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"v1 import"}),(0,s.jsx)("th",{children:"v2 import"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"@domg-wc/common-utilities"}),(0,s.jsx)("td",{children:"@domg-wc/common"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"@domg-wc/common-utilities/css"}),(0,s.jsx)("td",{children:"@domg-wc/styles"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"@domg-wc/components/next/..."}),(0,s.jsx)("td",{children:"@domg-wc/components/[atom, block, form]"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"@domg-wc/sections/..."}),(0,s.jsx)("td",{children:"@domg-wc/components/compliance"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"@domg-wc/form/..."}),(0,s.jsx)("td",{children:"@domg-wc/components/form"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"@domg-wc/elements"}),(0,s.jsx)("td",{children:(0,s.jsx)("em",{children:"(verwijderd)"})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"@domg-wc/components/proza-message/vl-proza-rest-client.util"}),(0,s.jsx)("td",{children:"@domg-wc/components/block/proza-message/vl-proza-rest-client.util"})]})]}),"\n",(0,s.jsx)(n.h4,{id:"34-optimalisaties",children:(0,s.jsx)(n.strong,{children:"3.4 Optimalisaties"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Gebruik waar mogelijk ",(0,s.jsx)(n.code,{children:"vlLayoutStyles"})," ipv de meer specifiekere ",(0,s.jsx)(n.code,{children:"vlGridStyles"}),", ",(0,s.jsx)(n.code,{children:"vlMarginStyles"}),", ..."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["Bekijk de ",(0,s.jsx)(n.a,{href:"/docs/afnemen-migratie-v2-faq--documentatie",children:"Migratie v2 - FAQ"})," voor meer specifieke vragen."]})]})}let h=()=>{throw Error("Docs-only story")};h.parameters={docsOnly:!0};let j={title:"Afnemen/Migratie v2 - Aanpak",tags:["stories-mdx"],includeStories:["__page"]};j.parameters=j.parameters||{},j.parameters.docs={...j.parameters.docs||{},page:function(e={}){let{wrapper:n}=Object.assign({},(0,r.RP)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}};let x=j,v=["v1AfsplitsRelease","v1StorybookLink","v1AfsplitsReleaseVersie","v2InfoBlock","dataVlInfoBlock","__page"]}}]);