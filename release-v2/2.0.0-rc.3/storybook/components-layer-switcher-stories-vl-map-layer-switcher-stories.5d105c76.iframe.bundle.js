"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[5419],{"../../libs/map/src/components/layer-switcher/stories/vl-map-layer-switcher.stories.ts":(e,t,r)=>{r.r(t),r.d(t,{MapLayerSwitcherDefault:()=>w,MapLayerSwitcherDynamic:()=>j,MapLayerSwitcherResolutions:()=>S,MapLayerSwitcherSubselection:()=>x,__namedExportsOrder:()=>k,default:()=>v});var a=r("../../resources/utils-storybook/index.ts"),l=r("../../node_modules/lit-html/lit-html.js");r("../../libs/map/src/vl-map.ts"),r("../../libs/map/src/components/baselayer/vl-map-base-layer-grb-gray/vl-map-base-layer-grb-gray.ts"),r("../../libs/map/src/components/layer-style/vl-map-layer-circle-style/vl-map-layer-circle-style.ts"),r("../../libs/map/src/components/layer/vector-layer/vl-map-features-layer/vl-map-features-layer.ts"),r("../../libs/map/src/components/side-sheet/vl-map-side-sheet.ts"),r("../../libs/map/src/components/layer-switcher/vl-map-layer-switcher.ts");let s={...a.D8,title:"Kaartlagen",layers:null},n={...a.RN,title:{name:"title",description:"De titel bovenaan de layer-switcher.",table:{type:{summary:a.QE.STRING},category:a.R6.ATTRIBUTES,defaultValue:{summary:s.title}}},layers:{name:"layers",description:"Kan gebruikt worden om een subselectie van kaartlagen te tonen.<br>Geef hier de name attributen van de kaartlagen mee.<br>Kaartlagen worden niet langer automatisch toegevoegd of verwijderd in de layer-switcher.",table:{type:{summary:`${a.QE.STRING}[]`},category:a.R6.PROPERTIES,defaultValue:{summary:s.layers}}}};r("../../node_modules/react/index.js");var o=r("../../node_modules/react/jsx-runtime.js"),i=r("../../node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js"),c=r("../../node_modules/@storybook/blocks/dist/index.mjs");function u(e){let t=Object.assign({h1:"h1",p:"p",code:"code",h2:"h2",pre:"pre",ul:"ul",li:"li",a:"a",h3:"h3"},(0,i.RP)(),e.components),{FluxMetaData:r}=t;return r||function(e,t){throw Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("FluxMetaData",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"map-layer-switcher",children:"Map Layer Switcher"}),"\n",(0,o.jsx)(r,{id:"map-layer-switcher"}),"\n",(0,o.jsxs)(t.p,{children:["Gebruik de ",(0,o.jsx)(t.code,{children:"map-layer-switcher"})," component om kaartlagen zichtbaar of onzichtbaar te maken."]}),"\n",(0,o.jsx)(t.h2,{id:"voorbeeld",children:"Voorbeeld"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-js",children:"import { VlMapLayerSwitcher } from '@domg-wc/map';\n"})}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-html",children:"<vl-map-layer-switcher></vl-map-layer-switcher>\n"})}),"\n",(0,o.jsx)(c.Hl,{of:w}),"\n",(0,o.jsx)(t.h2,{id:"configuratie",children:"Configuratie"}),"\n",(0,o.jsx)(c.ov,{of:w}),"\n",(0,o.jsx)(t.h2,{id:"gebruik",children:"Gebruik"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["het is belangrijk dat de kaartlagen zich binnen de ",(0,o.jsx)(t.a,{href:"?path=/docs/map-map--map-default",children:"vl-map"})," bevinden"]}),"\n",(0,o.jsxs)(t.li,{children:["het is belangrijk dat de ",(0,o.jsx)(t.code,{children:"vl-map-layer-switcher"})," zich binnen de ",(0,o.jsx)(t.a,{href:"?path=/docs/map-map--map-default",children:"vl-map"})," bevindt"]}),"\n",(0,o.jsxs)(t.li,{children:["het ",(0,o.jsx)(t.code,{children:"name"})," attribuut van de kaartlaag wordt gebruikt als label voor de checkbox"]}),"\n",(0,o.jsxs)(t.li,{children:["deze component wordt typisch in de ",(0,o.jsx)(t.a,{href:"?path=/docs/map-side-sheet--map-side-sheet-default",children:"vl-map-side-sheet"})," gebruikt"]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"varianten",children:"Varianten"}),"\n",(0,o.jsx)(t.h3,{id:"subselectie-van-kaartlagen",children:"Subselectie van kaartlagen"}),"\n",(0,o.jsxs)(t.p,{children:["Kan gebruikt worden om een subselectie van kaartlagen te tonen.",(0,o.jsx)("br",{}),"\nKaartlagen worden niet langer automatisch toegevoegd of verwijderd in de layer-switcher."]}),"\n",(0,o.jsx)(c.Hl,{of:x}),"\n",(0,o.jsx)(t.h3,{id:"kaartlagen-met-resoluties",children:"Kaartlagen met resoluties"}),"\n",(0,o.jsx)(c.Hl,{of:S}),"\n",(0,o.jsx)(t.h3,{id:"dynamische-kaartlagen",children:"Dynamische kaartlagen"}),"\n",(0,o.jsxs)(t.p,{children:["Voorbeeld hoe dynamisch lagen toegevoegd en verwijderd kunnen worden.",(0,o.jsx)("br",{}),"\nZie onder de story voor het volledige code voorbeeld."]}),"\n",(0,o.jsx)(c.Hl,{of:j}),"\n",(0,o.jsxs)("details",{children:[(0,o.jsx)("summary",{children:"volledig code voorbeeld van bovenstaande implementatie"}),(0,o.jsx)(c.kL,{code:"/**\n * voegt een nieuwe map layer to aan de `vl-map`\n * @param layerSelector - geef de huidige selector mee voor de nieuwe layer die toegevoegd moet worden\n * @param vlMapSelector - geef de selector mee om het element te kunnen bepalen waarop de layer moet toegevoegd worden\n */ const addMapLayer = (layerSelector, vlMapSelector)=>{\n    const newLayer = document.querySelector(layerSelector);\n    const vlMap = document.querySelector(vlMapSelector);\n    vlMap.appendChild(newLayer);\n};\n/**\n * verwijdert een bestaande map layer uit zijn `vl-map`\n * @param layerSelector - geef de selector mee om de layer te kunnen bepalen die verwijderd moet worden\n */ const removeMapLayer = (layerSelector, vlMapSelector)=>{\n    const layerToRemove = document.querySelector(layerSelector);\n    const vlMap = document.querySelector(vlMapSelector);\n    vlMap.removeChild(layerToRemove);\n};\nexport const dynamicLayerSwitcherImplementation = ()=>{\n    const vlMapSelector = 'vl-map#map-dynamic-layers';\n    const handleAddLayerForId = (id, event)=>{\n        // voeg kaartlaag dynamisch toe\n        addMapLayer(`vl-map-features-layer#${id}`, vlMapSelector);\n        const addButton = event.target;\n        // enable remove button nadat laag is toegevoegd\n        addButton.nextElementSibling.disabled = false;\n        // add button verwijderen\n        addButton.remove();\n    };\n    const handleRemoveLayerForId = (id, event)=>{\n        // verwijder kaartlaag uit vl-map component & uit de OpenLayers Overlay\n        removeMapLayer(`vl-map-features-layer#${id}`, vlMapSelector);\n        // remove button verwijderen\n        const removeButton = event.target;\n        removeButton.remove();\n    };\n    // exporteren functies die gebruikt worden in template\n    return {\n        handleAddLayerForId,\n        handleRemoveLayerForId\n    };\n};\nexport default dynamicLayerSwitcherImplementation;\n",language:"ts",dark:!0})]}),"\n",(0,o.jsx)(t.h2,{id:"referenties",children:"Referenties"}),"\n",(0,o.jsx)(t.h3,{id:"legacy-documentatie",children:"Legacy Documentatie"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://webcomponenten.omgeving.vlaanderen.be/storybook/?path=/docs/custom-elements-vl-map-vl-map-layer-switcher--default",target:"_blank",rel:"nofollow noopener noreferrer",children:"Legacy Storybook - Map Layer Switcher"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://webcomponenten.omgeving.vlaanderen.be/doc/VlMapLayerSwitcher.html",target:"_blank",rel:"nofollow noopener noreferrer",children:"Legacy Documentatie - Map Layer Switcher"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://webcomponenten.omgeving.vlaanderen.be/demo/vl-map-layer-switcher.html",target:"_blank",rel:"nofollow noopener noreferrer",children:"Legacy Demo - Map Layer Switcher"})})]})}let m=()=>(0,l.qy)`
        <vl-map-features-layer name="Kaartlaag zwart" .features=${{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[149055,199908]}}]}} id="zwart">
            <vl-map-layer-circle-style color="black"></vl-map-layer-circle-style>
        </vl-map-features-layer>
        <vl-map-features-layer name="Kaartlaag geel" .features=${{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[154055,199908]}}]}} id="geel">
            <vl-map-layer-circle-style color="yellow"></vl-map-layer-circle-style>
        </vl-map-features-layer>
        <vl-map-features-layer name="Kaartlaag rood" .features=${{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[159055,199908]}}]}} id="rood">
            <vl-map-layer-circle-style color="red"></vl-map-layer-circle-style>
        </vl-map-features-layer>
    `,y=(e,t,r)=>e.map(e=>(0,l.qy)`
                <section id=${e}>
                    <button
                        id=${`add-${e}`}
                        @click=${r=>{t(e,r)}}
                    >
                        toevoegen ${e} laag
                    </button>
                    <button
                        id=${`remove-${e}`}
                        disabled
                        @click=${t=>{r(e,t)}}
                    >
                        verwijderen ${e} laag
                    </button>
                </section>
            `),d=(e,t)=>{let r=document.querySelector(e);document.querySelector(t).appendChild(r)},p=(e,t)=>{let r=document.querySelector(e);document.querySelector(t).removeChild(r)},h=()=>{let e="vl-map#map-dynamic-layers";return{handleAddLayerForId:(t,r)=>{d(`vl-map-features-layer#${t}`,e);let a=r.target;a.nextElementSibling.disabled=!1,a.remove()},handleRemoveLayerForId:(t,r)=>{p(`vl-map-features-layer#${t}`,e),r.target.remove()}}},v={id:"map-layer-switcher",title:"map/layer-switcher",tags:["autodocs"],args:s,argTypes:n,parameters:{docs:{page:function(e={}){let{wrapper:t}=Object.assign({},(0,i.RP)(),e.components);return t?(0,o.jsx)(t,Object.assign({},e,{children:(0,o.jsx)(u,e)})):u(e)}}}},g={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[149055,199908]}}]},b={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[154055,199908]}}]},f={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[159055,199908]}}]},_=(0,a._7)(s,({title:e,layers:t})=>(0,l.qy)`
        <vl-map>
            <vl-map-side-sheet>
                <vl-map-layer-switcher title=${e} .layers=${t}></vl-map-layer-switcher>
            </vl-map-side-sheet>
            <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
            <vl-map-features-layer name="Kaartlaag 1" .features=${g}>
                <vl-map-layer-circle-style color="black"></vl-map-layer-circle-style>
            </vl-map-features-layer>
            <vl-map-features-layer name="Kaartlaag 2" .features=${b}>
                <vl-map-layer-circle-style color="yellow"></vl-map-layer-circle-style>
            </vl-map-features-layer>
            <vl-map-features-layer name="Kaartlaag 3" .features=${f}>
                <vl-map-layer-circle-style color="red"></vl-map-layer-circle-style>
            </vl-map-features-layer>
            </vl-map-wmts-layer>
            </vl-map-wfs-layer>
        </vl-map>
    `),w=_.bind({});w.storyName="vl-map-layer-switcher - default";let x=_.bind({});x.storyName="vl-map-layer-switcher - subselection",x.args={layers:["Kaartlaag 1","Kaartlaag 2"]};let S=(0,a._7)(s,({title:e,layers:t})=>(0,l.qy)`
        <vl-map>
            <vl-map-side-sheet>
                <vl-map-layer-switcher title=${e} .layers=${t}></vl-map-layer-switcher>
            </vl-map-side-sheet>
            <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
            <vl-map-features-layer
                name="Kaartlaag met resolutie 1"
                min-resolution="0"
                max-resolution="90"
                .features=${g}
            >
                <vl-map-layer-circle-style color="black"></vl-map-layer-circle-style>
            </vl-map-features-layer>
            <vl-map-features-layer
                name="Kaartlaag met resolutie 2"
                min-resolution="90"
                max-resolution="180"
                .features=${b}
            >
                <vl-map-layer-circle-style color="yellow"></vl-map-layer-circle-style>
            </vl-map-features-layer>
            <vl-map-features-layer
                name="Kaartlaag met resolutie 3"
                min-resolution="180"
                max-resolution="270"
                .features=${f}
            >
                <vl-map-layer-circle-style color="red"></vl-map-layer-circle-style>
            </vl-map-features-layer>
        </vl-map>
    `);S.storyName="vl-map-layer-switcher - resolutions";let j=(0,a._7)(s,({title:e,layers:t})=>{let{handleAddLayerForId:r,handleRemoveLayerForId:a}=h();return(0,l.qy)`
        ${y(["zwart","geel","rood"],r,a)} ${m()}
        <vl-map id="map-dynamic-layers">
            <vl-map-side-sheet>
                <vl-map-layer-switcher title=${e} .layers=${t}></vl-map-layer-switcher>
            </vl-map-side-sheet>
            <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
        </vl-map>
    `});j.storyName="vl-map-layer-switcher - dynamic layers",w.parameters={...w.parameters,docs:{...w.parameters?.docs,source:{originalSource:'story(mapLayerSwitcherArgs, ({\n  title,\n  layers\n}) => html`\n        <vl-map>\n            <vl-map-side-sheet>\n                <vl-map-layer-switcher title=${title} .layers=${layers}></vl-map-layer-switcher>\n            </vl-map-side-sheet>\n            <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>\n            <vl-map-features-layer name="Kaartlaag 1" .features=${features1}>\n                <vl-map-layer-circle-style color="black"></vl-map-layer-circle-style>\n            </vl-map-features-layer>\n            <vl-map-features-layer name="Kaartlaag 2" .features=${features2}>\n                <vl-map-layer-circle-style color="yellow"></vl-map-layer-circle-style>\n            </vl-map-features-layer>\n            <vl-map-features-layer name="Kaartlaag 3" .features=${features3}>\n                <vl-map-layer-circle-style color="red"></vl-map-layer-circle-style>\n            </vl-map-features-layer>\n            </vl-map-wmts-layer>\n            </vl-map-wfs-layer>\n        </vl-map>\n    `)',...w.parameters?.docs?.source}}},x.parameters={...x.parameters,docs:{...x.parameters?.docs,source:{originalSource:'story(mapLayerSwitcherArgs, ({\n  title,\n  layers\n}) => html`\n        <vl-map>\n            <vl-map-side-sheet>\n                <vl-map-layer-switcher title=${title} .layers=${layers}></vl-map-layer-switcher>\n            </vl-map-side-sheet>\n            <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>\n            <vl-map-features-layer name="Kaartlaag 1" .features=${features1}>\n                <vl-map-layer-circle-style color="black"></vl-map-layer-circle-style>\n            </vl-map-features-layer>\n            <vl-map-features-layer name="Kaartlaag 2" .features=${features2}>\n                <vl-map-layer-circle-style color="yellow"></vl-map-layer-circle-style>\n            </vl-map-features-layer>\n            <vl-map-features-layer name="Kaartlaag 3" .features=${features3}>\n                <vl-map-layer-circle-style color="red"></vl-map-layer-circle-style>\n            </vl-map-features-layer>\n            </vl-map-wmts-layer>\n            </vl-map-wfs-layer>\n        </vl-map>\n    `)',...x.parameters?.docs?.source}}},S.parameters={...S.parameters,docs:{...S.parameters?.docs,source:{originalSource:'story(mapLayerSwitcherArgs, ({\n  title,\n  layers\n}) => html`\n        <vl-map>\n            <vl-map-side-sheet>\n                <vl-map-layer-switcher title=${title} .layers=${layers}></vl-map-layer-switcher>\n            </vl-map-side-sheet>\n            <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>\n            <vl-map-features-layer\n                name="Kaartlaag met resolutie 1"\n                min-resolution="0"\n                max-resolution="90"\n                .features=${features1}\n            >\n                <vl-map-layer-circle-style color="black"></vl-map-layer-circle-style>\n            </vl-map-features-layer>\n            <vl-map-features-layer\n                name="Kaartlaag met resolutie 2"\n                min-resolution="90"\n                max-resolution="180"\n                .features=${features2}\n            >\n                <vl-map-layer-circle-style color="yellow"></vl-map-layer-circle-style>\n            </vl-map-features-layer>\n            <vl-map-features-layer\n                name="Kaartlaag met resolutie 3"\n                min-resolution="180"\n                max-resolution="270"\n                .features=${features3}\n            >\n                <vl-map-layer-circle-style color="red"></vl-map-layer-circle-style>\n            </vl-map-features-layer>\n        </vl-map>\n    `)',...S.parameters?.docs?.source}}},j.parameters={...j.parameters,docs:{...j.parameters?.docs,source:{originalSource:"story(mapLayerSwitcherArgs, ({\n  title,\n  layers\n}) => {\n  const layerIds = ['zwart', 'geel', 'rood'];\n  const {\n    handleAddLayerForId,\n    handleRemoveLayerForId\n  } = dynamicLayerSwitcherImplementation();\n  return html`\n        ${storyControlTemplates(layerIds, handleAddLayerForId, handleRemoveLayerForId)} ${mapLayersToAddOrRemove()}\n        <vl-map id=\"map-dynamic-layers\">\n            <vl-map-side-sheet>\n                <vl-map-layer-switcher title=${title} .layers=${layers}></vl-map-layer-switcher>\n            </vl-map-side-sheet>\n            <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>\n        </vl-map>\n    `;\n})",...j.parameters?.docs?.source}}};let k=["MapLayerSwitcherDefault","MapLayerSwitcherSubselection","MapLayerSwitcherResolutions","MapLayerSwitcherDynamic"]},"../../node_modules/ol/source/Cluster.js":(e,t,r)=>{r.d(t,{A:()=>y});var a=r("../../node_modules/ol/events/EventType.js"),l=r("../../node_modules/ol/Feature.js"),s=r("../../node_modules/ol/geom/Point.js"),n=r("../../node_modules/ol/source/Vector.js"),o=r("../../node_modules/ol/coordinate.js"),i=r("../../node_modules/ol/asserts.js"),c=r("../../node_modules/ol/extent.js"),u=r("../../node_modules/ol/util.js");class m extends n.A{constructor(e){super({attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=void 0!==e.distance?e.distance:20,this.minDistance=e.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=e.geometryFunction||function(e){let t=e.getGeometry();return(0,i.v)(!t||"Point"===t.getType(),"The default `geometryFunction` can only handle `Point` or null geometries"),t},this.createCustomCluster_=e.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(e.source||null)}clear(e){this.features.length=0,super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,t,r){this.source.loadFeatures(e,t,r),t!==this.resolution&&(this.resolution=t,this.refresh())}setDistance(e){this.updateDistance(e,this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(a.A.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(a.A.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(e,t){let r=0===e?0:Math.min(t,e)/e,a=e!==this.distance||this.interpolationRatio!==r;this.distance=e,this.minDistance=t,this.interpolationRatio=r,a&&this.refresh()}cluster(){if(void 0===this.resolution||!this.source)return;let e=(0,c.S5)(),t=this.distance*this.resolution,r=this.source.getFeatures(),a={};for(let l=0,s=r.length;l<s;l++){let s=r[l];if(!((0,u.v6)(s) in a)){let r=this.geometryFunction(s);if(r){let l=r.getCoordinates();(0,c.dP)(l,e),(0,c.r)(e,t,e);let s=this.source.getFeaturesInExtent(e).filter(function(e){let t=(0,u.v6)(e);return!(t in a)&&(a[t]=!0,!0)});this.features.push(this.createCluster(s,e))}}}}createCluster(e,t){let r=[0,0];for(let t=e.length-1;t>=0;--t){let a=this.geometryFunction(e[t]);a?(0,o.WQ)(r,a.getCoordinates()):e.splice(t,1)}(0,o.hs)(r,1/e.length);let a=(0,c.q1)(t),n=this.interpolationRatio,i=new s.A([r[0]*(1-n)+a[0]*n,r[1]*(1-n)+a[1]*n]);return this.createCustomCluster_?this.createCustomCluster_(i,e):new l.A({geometry:i,features:e})}}let y=m},"../../libs/map/src/components/baselayer/vl-map-base-layer-grb-gray/vl-map-base-layer-grb-gray.ts":(e,t,r)=>{r.d(t,{L:()=>s});var a=r("../../libs/common/src/index.ts"),l=r("../../libs/map/src/components/baselayer/vl-map-base-layer.ts");class s extends l.j{constructor(){super(),this.url="https://geo.api.vlaanderen.be/GRB/wmts",this.layer="grb_bsk_grijs",this.title="GRB basis laag grijs"}}s=function(e,t,r,a){var l,s=arguments.length,n=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,a);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(n=(s<3?l(n):s>3?l(t,r,n):l(t,r))||n);return s>3&&n&&Object.defineProperty(t,r,n),n}([(0,a.M1)("vl-map-baselayer-grb-gray")],s)},"../../libs/map/src/components/layer-style/vl-map-layer-circle-style/vl-map-layer-circle-style.ts":(e,t,r)=>{r.d(t,{t:()=>c});var a=r("../../libs/common/src/index.ts"),l=r("../../node_modules/ol/style/Circle.js"),s=r("../../node_modules/ol/style/Fill.js"),n=r("../../node_modules/ol/style/Stroke.js"),o=r("../../node_modules/ol/style/Style.js"),i=r("../../libs/map/src/components/layer-style/vl-map-layer-style.ts");class c extends i.t{get size(){return Number(this.getAttribute("size"))||5}get borderColor(){return this.getAttribute("border-color")||"rgba(0, 0, 0, 0)"}get borderSize(){return this.getAttribute("border-size")||1}get clusterTextColor(){return this.getAttribute("cluster-text-color")||"#FFF"}get clusterColor(){return this.getAttribute("cluster-color")||"rgba(2, 85, 204, 1)"}get clusterMultiplier(){let e=Number(this.getAttribute("cluster-multiplier"));return isNaN(e)||0===e?1:e}get _styleFunction(){return(e,t)=>{let r=e&&e.get&&e.get("features")||[],{textColor:a,color:i,borderColor:c,borderSize:u}=this,m=r.length||1,y=Math.max(1.5,m.toString().length),d=1===m?1:this.clusterMultiplier*y,p=this.size*d;if(this.parentElement&&this.parentElement.cluster){if(this._hasUniqueStyles(r)){let e=r[0].getStyle();e instanceof Function&&(e=e());let t=e.getImage();i=t.getFill().getColor(),c=t.getStroke().getColor(),u=t.getStroke().getWidth(),p=m>1?t.getRadius()*d:t.getRadius()}else this._containsStyle(r)&&(i=this.clusterColor,a=this.clusterTextColor)}return new o.Ay({image:new l.A({fill:new s.A({color:i}),stroke:new n.A({color:c,width:Number(u)}),radius:p}),text:this._getTextStyle(e,a),zIndex:this._featureZIndex(e)})}}get featureLabelFunction(){return e=>{let t=e&&e.get&&e.get("features")||[];if(Array.isArray(t)&&t.length>0){let e=t.length||1;return e>1?e.toString():this.__getFeatureText(t[0])}return this.__getFeatureText(e)}}__getFeatureText(e){return this.textFeatureAttributeName&&this.textFeatureAttributeName?e.get(this.textFeatureAttributeName):""}}c=function(e,t,r,a){var l,s=arguments.length,n=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,a);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(n=(s<3?l(n):s>3?l(t,r,n):l(t,r))||n);return s>3&&n&&Object.defineProperty(t,r,n),n}([(0,a.M1)("vl-map-layer-circle-style")],c)},"../../libs/map/src/components/layer-switcher/vl-map-layer-switcher.ts":(e,t,r)=>{var a=r("../../libs/common/src/index.ts"),l=r("../../libs/components/src/form/index.ts"),s=r("../../libs/styles/src/index.ts"),n=r("../../node_modules/lit/index.js"),o=r("../../node_modules/lit/decorators.js");let i=(0,n.AH)`
    :host {
        display: block;
    }

    :host label {
        display: block;
    }

    :host [layer] {
        display: block;
    }
`;class c extends a.jW{static{(0,a.gy)([l.v7])}static get styles(){return[s.oi,i,l.BG]}static get properties(){return{componentTitle:{type:String,attribute:"title",reflect:!0},layers:{type:Array,attribute:"layers"},vlMapLayers:{attribute:!1}}}async connectedCallback(){super.connectedCallback(),this.mapElement=this.closest("vl-map"),await this.layersReady(),this.vlMapLayers=this.getVlMapLayers(),this.mapElement?.on("moveend",this.computeDisabledAttributes),this.layers||this.observeMapLayers()}disconnectedCallback(){super.disconnectedCallback(),this.layerObserver?.disconnect(),this.mapElement?.un("moveend",this.computeDisabledAttributes)}async willUpdate(e){e.has("layers")&&(await this.layersReady(),this.vlMapLayers=this.getVlMapLayers())}updated(){this.computeDisabledAttributes()}render(){return(0,n.qy)`
            <div>
                <label class="vl-form__label">${this.componentTitle}</label>
                ${this.vlMapLayers.map(e=>(0,n.qy)`
                        <vl-checkbox
                            label=${e.title}
                            layer=${e.title}
                            checked=${e.visible}
                            @vl-input=${()=>e.visible=!e.visible}
                            >${e.title}
                        </vl-checkbox>
                    `)}
            </div>
        `}async layersReady(){return this.mapElement?Promise.all(this.mapElement?.nonBaseLayers.map(e=>a.t7(()=>e.ready))):new Promise((e,t)=>t())}getVlMapLayers(){return this.layers&&Array.isArray(this.layers)?this.mapElement?.nonBaseLayers.filter(e=>this.layers?.includes(e.name))||[]:this.mapElement?.nonBaseLayers||[]}observeMapLayers(){this.layerObserver=new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{e instanceof HTMLElement&&e.hasAttribute("is-layer")&&(this.vlMapLayers=[...this.vlMapLayers,e])}),e.removedNodes.forEach(e=>{e instanceof HTMLElement&&e.hasAttribute("is-layer")&&(this.vlMapLayers=this.vlMapLayers.filter(t=>e!==t))})})}),this.layerObserver.observe(this.mapElement,{subtree:!0,childList:!0})}constructor(...e){super(...e),this.componentTitle="Kaartlagen",this.layers=null,this.vlMapLayers=[],this.mapElement=null,this.layerObserver=null,this.computeDisabledAttributes=()=>{let e=this.mapElement?.resolution;this.vlMapLayers.forEach(t=>{let r=this.shadowRoot?.querySelector(`vl-checkbox[data-layer="${t.title}"]`);t.isVisibleAtResolution(e)?r?.removeAttribute("disabled"):r?.setAttribute("disabled","")})}}}c=function(e,t,r,a){var l,s=arguments.length,n=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,a);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(n=(s<3?l(n):s>3?l(t,r,n):l(t,r))||n);return s>3&&n&&Object.defineProperty(t,r,n),n}([(0,o.EM)("vl-map-layer-switcher")],c)},"../../libs/map/src/components/layer/vector-layer/vl-map-features-layer/vl-map-features-layer.ts":(e,t,r)=>{var a=r("../../libs/common/src/index.ts"),l=r("../../node_modules/ol/format/GeoJSON.js"),s=r("../../node_modules/ol/geom/Point.js"),n=r("../../node_modules/ol/source/Cluster.js"),o=r("../../node_modules/ol/source/Vector.js"),i=r("../../libs/map/src/components/layer/vector-layer/vl-map-vector-layer.ts");class c extends i.P{static get _observedAttributes(){return i.P._observedAttributes.concat(["auto-extent","features"])}constructor(){super()}init(){this._geoJSON=new l.A,this._source=this.__createSource(),this._layer=this._createLayer()}async connectedCallback(){this.init(),await super.connectedCallback(),this._autoZoomToExtent()}get features(){return this.__featuresSource?this.__featuresSource.getFeatures():this._featuresFromAttribute}get _featuresFromAttribute(){let e=this.getAttribute("features");return e?this.__readGeoJsonFeatures(e):[]}set features(e){this.setAttribute("features",JSON.stringify(e))}get _autoExtent(){return void 0!=this.getAttribute("auto-extent")}get _autoExtentMaxZoom(){return this.getAttribute("auto-extent-max-zoom")}get cluster(){return void 0!=this.getAttribute("cluster")}get _clusterDistance(){return this.getAttribute("cluster-distance")}removeFeaturesStyle(){this.__featuresSource&&this.__featuresSource.getFeatures()&&this.__featuresSource.getFeatures().forEach(e=>{e.setStyle(null)})}getFeature(e){if(this.__featuresSource&&this.__featuresSource.getFeatures())return this.__featuresSource.getFeatures().filter(t=>t.getId()===e)[0]}getCluster(e){if(this._layer)return this._layer.getSource().getFeatures().filter(t=>{let r=t.get("features");return!!r&&r.some(t=>t.getId()===e)})[0]}async zoomToExtent(e){this.mapElement&&this.boundingBox&&this.mapElement.zoomTo(this.boundingBox,e)}clearFeatures(){this.__featuresSource&&(this.__featuresSource.clear(),this._featuresChanged())}addFeature(e){this.__featuresSource&&(this.__featuresSource.addFeatures([this._geoJSON.readFeature(e)]),this._featuresChanged())}addFeatureCollection(e){this.__featuresSource&&(this.__featuresSource.addFeatures(this._geoJSON.readFeatures(e)),this._featuresChanged())}_autoExtentChangedCallback(){this._autoZoomToExtent()}_featuresChangedCallback(e,t){t&&this._layer&&(this.__featuresSource.clear(),this.__featuresSource.addFeatures(this.__readGeoJsonFeatures(t)),this._featuresChanged())}_featuresChanged(){this._autoZoomToExtent(),this.rerender()}_autoZoomToExtent(){this._autoExtent&&this.zoomToExtent(this._autoExtentMaxZoom)}get boundingBox(){if(this.__featuresSource&&this.__featuresSource.getFeatures().length>0)return this.__featuresSource.getExtent()}__createSource(){let e=new o.A({features:this.features});return this.cluster?this.__createClusterSource(e):e}__createClusterSource(e){return new n.A({distance:this._clusterDistance,source:e,geometryFunction:e=>{let t=e.getGeometry();return t instanceof s.A?t:this.__ignoreClustering()}})}get __featuresSource(){return this.cluster&&this.source?this.source.getSource():this.source}__ignoreClustering(){return null}__readGeoJsonFeatures(e){return this._geoJSON.readFeatures(e)}}c=function(e,t,r,a){var l,s=arguments.length,n=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,a);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(n=(s<3?l(n):s>3?l(t,r,n):l(t,r))||n);return s>3&&n&&Object.defineProperty(t,r,n),n}([(0,a.M1)("vl-map-features-layer")],c)},"../../libs/map/src/components/layer/vector-layer/vl-map-vector-layer.ts":(e,t,r)=>{r.d(t,{P:()=>n});var a=r("../../node_modules/ol/layer/Vector.js"),l=r("../../libs/map/src/components/layer-style/vl-map-layer-style.ts"),s=r("../../libs/map/src/components/layer/vl-map-layer.ts");class n extends s.M{static get EVENTS(){return{styleChanged:"style-changed"}}constructor(){super(),this.pendingLayerStyles=[],this._styles=[]}async connectedCallback(){await super.connectedCallback(),this.applyPendingStyles()}get style(){return this.layer?.getStyle()||null}set style(e){this._layer?this.applyStyle(e):this.pendingLayerStyles=[...this.pendingLayerStyles,e]}applyStyle(e){e instanceof l.t?(this._styles.push(e),this._layer.setStyle(e=>this._styles.map(t=>t.style(e)).filter(e=>null!=e))):(this._styles=[],this._layer.setStyle(e)),this.dispatchEvent(new CustomEvent(n.EVENTS.styleChanged,{bubbles:!0,composed:!0,detail:{style:e}}))}_createLayer(){let e=new a.A({title:this._name,source:this._source,updateWhileAnimating:!0,updateWhileInteracting:!0,minResolution:this._minResolution,maxResolution:this._maxResolution,visible:this._visible,opacity:this._opacity});return e.set("id",s.M._counter),e}applyPendingStyles(){this._layer&&(this.pendingLayerStyles?.forEach(e=>this.applyStyle(e)),this.pendingLayerStyles=[])}}},"../../libs/map/src/components/side-sheet/vl-map-side-sheet.ts":(e,t,r)=>{var a=r("../../libs/common/src/index.ts"),l=r("../../libs/components/src/block/index.ts");class s extends l.VH{constructor(){super(`
      :host {
        width: 3.5rem;
        transition: width 0.1s;
      }

      :host([open]) {
        width: var(--vl-side-sheet-width,calc(100%/3));
      }

      .vl-side-sheet__toggle {
        margin: 10px;
      }

      :host([open]) .vl-side-sheet__toggle {
        margin-left: 0px;
      }

      ::slotted(*) {
        margin-bottom: 20px;
      }
    `)}connectedCallback(){super.connectedCallback(),this.setAttribute("absolute",""),this.hasAttribute("right")||this.setAttribute("left",""),this._openChangedCallback()}_rightChangedCallback(e,t){void 0!=t?this.removeAttribute("left"):this.setAttribute("left","")}}s=function(e,t,r,a){var l,s=arguments.length,n=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,a);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(n=(s<3?l(n):s>3?l(t,r,n):l(t,r))||n);return s>3&&n&&Object.defineProperty(t,r,n),n}([(0,a.M1)("vl-map-side-sheet")],s)}}]);